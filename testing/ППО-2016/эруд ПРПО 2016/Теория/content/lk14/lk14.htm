<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 15">
<meta name=Originator content="Microsoft Word 15">
<link rel=File-List href="lk14.files/filelist.xml">
<link rel=Edit-Time-Data href="lk14.files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Лекция 14</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Администратор</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Александр Григорьев</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>1</o:TotalTime>
  <o:LastPrinted>2011-03-01T11:21:00Z</o:LastPrinted>
  <o:Created>2016-06-13T12:25:00Z</o:Created>
  <o:LastSaved>2016-06-13T12:25:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>9314</o:Words>
  <o:Characters>53096</o:Characters>
  <o:Company>home</o:Company>
  <o:Lines>442</o:Lines>
  <o:Paragraphs>124</o:Paragraphs>
  <o:CharactersWithSpaces>62286</o:CharactersWithSpaces>
  <o:Version>15.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:TargetScreenSize>800x600</o:TargetScreenSize>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="lk14.files/themedata.thmx">
<link rel=colorSchemeMapping href="lk14.files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:AutoHyphenation/>
  <w:HyphenationZone>17</w:HyphenationZone>
  <w:DoNotHyphenateCaps/>
  <w:PunctuationKerning/>
  <w:DrawingGridHorizontalSpacing>7 пт</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>19,05 пт</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>2</w:DisplayHorizontalDrawingGridEvery>
  <w:ValidateAgainstSchemas>false</w:ValidateAgainstSchemas>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotUnderlineInvalidXML/>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>RU</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:UseWord2010TableStyleRules/>
   <w:DontGrowAutofit/>
   <w:DontUseIndentAsNumberingTabStop/>
   <w:FELineBreak11/>
   <w:WW11IndentRules/>
   <w:DontAutofitConstrainedTables/>
   <w:AutofitLikeWW11/>
   <w:UnderlineTabInNumList/>
   <w:HangulWidthLikeWW11/>
   <w:UseNormalStyleForList/>
   <w:DontVertAlignCellWithSp/>
   <w:DontBreakConstrainedForcedTables/>
   <w:DontVertAlignInTxbx/>
   <w:Word11KerningPairs/>
   <w:CachedColBalance/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="false"
  DefSemiHidden="false" DefQFormat="false" DefPriority="99"
  LatentStyleCount="371">
  <w:LsdException Locked="true" Priority="0" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="true" Priority="0" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="true" Priority="0" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="true" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="true" Priority="0" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="true" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="true" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="true" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="true" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="true" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 9"/>
  <w:LsdException Locked="true" Priority="0" Name="toc 1"/>
  <w:LsdException Locked="true" Priority="0" Name="toc 2"/>
  <w:LsdException Locked="true" Priority="0" Name="toc 3"/>
  <w:LsdException Locked="true" Priority="0" Name="toc 4"/>
  <w:LsdException Locked="true" Priority="0" Name="toc 5"/>
  <w:LsdException Locked="true" Priority="0" Name="toc 6"/>
  <w:LsdException Locked="true" Priority="0" Name="toc 7"/>
  <w:LsdException Locked="true" Priority="0" Name="toc 8"/>
  <w:LsdException Locked="true" Priority="0" Name="toc 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="header"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footer"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index heading"/>
  <w:LsdException Locked="true" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of figures"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope return"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="line number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="page number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of authorities"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="macro"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="toa heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 5"/>
  <w:LsdException Locked="true" Priority="0" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Closing"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Signature"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Message Header"/>
  <w:LsdException Locked="true" Priority="0" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Salutation"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Date"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Note Heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Block Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="FollowedHyperlink"/>
  <w:LsdException Locked="true" Priority="22" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="true" Priority="20" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Document Map"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Plain Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="E-mail Signature"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Top of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Bottom of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal (Web)"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Acronym"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Cite"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Code"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Definition"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Keyboard"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Preformatted"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Sample"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Typewriter"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Variable"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal Table"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation subject"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="No List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Contemporary"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Elegant"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Professional"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Balloon Text"/>
  <w:LsdException Locked="true" Priority="0" Name="Table Grid"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Theme"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" QFormat="true"
   Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" QFormat="true"
   Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" QFormat="true"
   Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" QFormat="true"
   Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" QFormat="true"
   Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" QFormat="true"
   Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" SemiHidden="true"
   UnhideWhenUsed="true" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="TOC Heading"/>
  <w:LsdException Locked="false" Priority="41" Name="Plain Table 1"/>
  <w:LsdException Locked="false" Priority="42" Name="Plain Table 2"/>
  <w:LsdException Locked="false" Priority="43" Name="Plain Table 3"/>
  <w:LsdException Locked="false" Priority="44" Name="Plain Table 4"/>
  <w:LsdException Locked="false" Priority="45" Name="Plain Table 5"/>
  <w:LsdException Locked="false" Priority="40" Name="Grid Table Light"/>
  <w:LsdException Locked="false" Priority="46" Name="Grid Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="Grid Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="Grid Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="46" Name="List Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="List Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="List Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 6"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 5 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-alt:"\FF2D\FF33 \660E\671D";
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-alt:\BC14\D0D5;
	mso-font-charset:129;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:\5B8B\4F53;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 2 5 0 0 0 0 0 0 0;
	mso-font-alt:\65B0\7D30\660E\9AD4;
	mso-font-charset:136;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;
	mso-font-alt:"\FF2D\FF33 \30B4\30B7\30C3\30AF";
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:\B3CB\C6C0;
	mso-font-charset:129;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-alt:\9ED1\4F53;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:MingLiU;
	panose-1:2 2 5 9 0 0 0 0 0 0;
	mso-font-alt:\7D30\660E\9AD4;
	mso-font-charset:136;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;
	mso-font-alt:\660E\671D;
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:\AD74\B9BC;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:Mangal;
	panose-1:2 4 5 3 5 2 3 3 2 2;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:8192 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:262144 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:12583555 0 0 0 13 0;}
@font-face
	{font-family:Vrinda;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:3 8 6 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:204;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1107305727 0 0 415 0;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;
	mso-font-charset:204;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073750139 0 0 415 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:204;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1073786111 1 0 415 0;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:204;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1073743103 0 0 415 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:204;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-520081665 -1073717157 41 0 66047 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:1.0cm;
	mso-pagination:widow-orphan;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:Calibri;}
h1
	{mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Заголовок 1 Знак";
	mso-style-next:Обычный;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:"Arial",sans-serif;
	mso-fareast-font-family:"Times New Roman";
	mso-font-kerning:0pt;
	font-weight:bold;}
h2
	{mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"Заголовок 1";
	mso-style-link:"Заголовок 2 Знак";
	mso-style-next:Обычный;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	mso-fareast-font-family:"Times New Roman";
	color:black;
	font-weight:bold;
	font-style:italic;}
h3
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:"Заголовок 3 Знак";
	mso-style-next:Обычный;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:justify;
	text-indent:1.0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:"Arial",sans-serif;
	mso-fareast-font-family:Calibri;
	font-weight:bold;}
h4
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-next:Обычный;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:justify;
	text-indent:1.0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:Calibri;
	font-weight:bold;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-update:auto;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-next:Обычный;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:0cm;
	text-align:justify;
	text-indent:1.0cm;
	mso-pagination:widow-orphan;
	tab-stops:right dotted 481.4pt;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:Calibri;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-link:"Нижний колонтитул Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:Calibri;}
span.MsoFootnoteReference
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-parent:"";
	vertical-align:super;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-link:"Основной текст Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:Calibri;
	mso-fareast-language:AR-SA;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-parent:"";
	color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:#954F72;
	mso-themecolor:followedhyperlink;
	text-decoration:underline;
	text-underline:single;}
strong
	{mso-style-priority:22;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-parent:"";}
em
	{mso-style-priority:20;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-parent:"";}
p
	{mso-style-priority:99;
	mso-style-unhide:no;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";}
pre
	{mso-style-priority:99;
	mso-style-link:"Стандартный HTML Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-link:"Текст выноски Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:1.0cm;
	mso-pagination:widow-orphan;
	font-size:8.0pt;
	font-family:"Tahoma",sans-serif;
	mso-fareast-font-family:Calibri;}
span.1
	{mso-style-name:"Заголовок 1 Знак";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 1";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"Arial",sans-serif;
	mso-ascii-font-family:Arial;
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	font-weight:bold;}
span.2
	{mso-style-name:"Заголовок 2 Знак";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 2";
	mso-ansi-font-size:13.0pt;
	mso-bidi-font-size:13.0pt;
	font-family:"Arial",sans-serif;
	mso-ascii-font-family:Arial;
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;
	font-weight:bold;
	font-style:italic;}
span.3
	{mso-style-name:"Заголовок 3 Знак";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 3";
	mso-ansi-font-size:13.0pt;
	mso-bidi-font-size:13.0pt;
	font-family:"Arial",sans-serif;
	mso-ascii-font-family:Arial;
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	font-weight:bold;}
p.TOCHeading, li.TOCHeading, div.TOCHeading
	{mso-style-name:"TOC Heading";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"Заголовок 1";
	mso-style-next:Обычный;
	margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:Cambria;
	color:#365F91;
	text-transform:uppercase;}
span.a
	{mso-style-name:"Текст выноски Знак";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Текст выноски";
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;
	font-family:"Tahoma",sans-serif;
	mso-ascii-font-family:Tahoma;
	mso-hansi-font-family:Tahoma;
	mso-bidi-font-family:Tahoma;}
span.a0
	{mso-style-name:Акцент;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-parent:"";
	font-style:italic;}
span.a1
	{mso-style-name:"Нижний колонтитул Знак";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Нижний колонтитул";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;}
p.a2, li.a2, div.a2
	{mso-style-name:Рисунок;
	mso-style-priority:99;
	mso-style-unhide:no;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-align:center;
	mso-pagination:widow-orphan;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:Calibri;}
p.a3, li.a3, div.a3
	{mso-style-name:Содержание;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-parent:"Заголовок 1";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial",sans-serif;
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
p.a4, li.a4, div.a4
	{mso-style-name:"Название конспекта";
	mso-style-priority:99;
	mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:1.0cm;
	mso-pagination:widow-orphan;
	font-size:22.0pt;
	font-family:"Arial",sans-serif;
	mso-fareast-font-family:"Times New Roman";
	text-transform:uppercase;}
p.a5, li.a5, div.a5
	{mso-style-name:Автор;
	mso-style-priority:99;
	mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:1.0cm;
	mso-pagination:widow-orphan;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
p.a6, li.a6, div.a6
	{mso-style-name:Определение;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-link:"Определение Знак";
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-align:justify;
	text-indent:1.0cm;
	mso-pagination:widow-orphan;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:Calibri;
	font-style:italic;}
span.a7
	{mso-style-name:"Определение Знак";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:Определение;
	font-style:italic;}
span.a8
	{mso-style-name:"Жирный акцент";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-parent:"";
	font-weight:bold;
	font-style:italic;}
span.PlaceholderText
	{mso-style-name:"Placeholder Text";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-parent:"";
	color:gray;}
span.a9
	{mso-style-name:"Основной текст Знак";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Основной текст";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ansi-language:RU;
	mso-fareast-language:AR-SA;
	mso-bidi-language:AR-SA;}
span.BodyTextChar
	{mso-style-name:"Body Text Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Основной текст";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;}
span.keyword
	{mso-style-name:keyword;
	mso-style-unhide:no;}
span.keyworddef
	{mso-style-name:keyword_def;
	mso-style-unhide:no;}
span.apple-converted-space
	{mso-style-name:apple-converted-space;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.HTML
	{mso-style-name:"Стандартный HTML Знак";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Стандартный HTML";
	font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
span.layoutformatterelem
	{mso-style-name:layoutformatter_elem;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.layoutformatterattrname
	{mso-style-name:layoutformatter_attrname;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.layoutformatterattrvalue
	{mso-style-name:layoutformatter_attrvalue;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.java4
	{mso-style-name:java4;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.java10
	{mso-style-name:java10;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.java8
	{mso-style-name:java8;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.java16
	{mso-style-name:java16;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.java9
	{mso-style-name:java9;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.java7
	{mso-style-name:java7;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.java5
	{mso-style-name:java5;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.java0
	{mso-style-name:java0;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.java3
	{mso-style-name:java3;
	mso-style-unhide:no;
	mso-style-parent:"";}
span.msoIns
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:underline;
	text-underline:single;
	color:teal;}
span.msoDel
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	mso-fareast-font-family:Calibri;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("lk14.files/header.htm") fs;
	mso-footnote-continuation-separator:url("lk14.files/header.htm") fcs;
	mso-endnote-separator:url("lk14.files/header.htm") es;
	mso-endnote-continuation-separator:url("lk14.files/header.htm") ecs;
	mso-facing-pages:yes;
	mso-footnote-numbering-restart:each-page;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:2.0cm 2.0cm 76.55pt 2.0cm;
	mso-header-margin:1.0cm;
	mso-footer-margin:48.2pt;
	mso-title-page:yes;
	mso-even-footer:url("lk14.files/header.htm") ef1;
	mso-footer:url("lk14.files/header.htm") f1;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;
	mso-footnote-numbering-restart:each-page;}
 /* List Definitions */
 @list l0
	{mso-list-id:-132;
	mso-list-type:simple;
	mso-list-template-ids:337820452;}
@list l0:level1
	{mso-level-tab-stop:74.6pt;
	mso-level-number-position:left;
	margin-left:74.6pt;
	text-indent:-18.0pt;}
@list l1
	{mso-list-id:-131;
	mso-list-type:simple;
	mso-list-template-ids:-1959765614;}
@list l1:level1
	{mso-level-tab-stop:60.45pt;
	mso-level-number-position:left;
	margin-left:60.45pt;
	text-indent:-18.0pt;}
@list l2
	{mso-list-id:-130;
	mso-list-type:simple;
	mso-list-template-ids:531248534;}
@list l2:level1
	{mso-level-tab-stop:46.3pt;
	mso-level-number-position:left;
	margin-left:46.3pt;
	text-indent:-18.0pt;}
@list l3
	{mso-list-id:-129;
	mso-list-type:simple;
	mso-list-template-ids:-1102788012;}
@list l3:level1
	{mso-level-tab-stop:32.15pt;
	mso-level-number-position:left;
	margin-left:32.15pt;
	text-indent:-18.0pt;}
@list l4
	{mso-list-id:-128;
	mso-list-type:simple;
	mso-list-template-ids:995003836;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:74.6pt;
	mso-level-number-position:left;
	margin-left:74.6pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l5
	{mso-list-id:-127;
	mso-list-type:simple;
	mso-list-template-ids:-1957537380;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:60.45pt;
	mso-level-number-position:left;
	margin-left:60.45pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l6
	{mso-list-id:-126;
	mso-list-type:simple;
	mso-list-template-ids:2075404034;}
@list l6:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:46.3pt;
	mso-level-number-position:left;
	margin-left:46.3pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l7
	{mso-list-id:-125;
	mso-list-type:simple;
	mso-list-template-ids:-1823326138;}
@list l7:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:32.15pt;
	mso-level-number-position:left;
	margin-left:32.15pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l8
	{mso-list-id:-120;
	mso-list-type:simple;
	mso-list-template-ids:-1395879604;}
@list l8:level1
	{mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l9
	{mso-list-id:-119;
	mso-list-type:simple;
	mso-list-template-ids:1316007050;}
@list l9:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l10
	{mso-list-id:-2;
	mso-list-type:simple;
	mso-list-template-ids:-1;}
@list l10:level1
	{mso-level-start-at:0;
	mso-level-text:*;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l11
	{mso-list-id:444080745;
	mso-list-type:simple;
	mso-list-template-ids:68747265;}
@list l11:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l12
	{mso-list-id:707994952;
	mso-list-type:hybrid;
	mso-list-template-ids:-1921074898 -1166376490 68747289 68747291 68747279 68747289 68747291 68747279 68747289 68747291;}
@list l12:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:46.35pt;
	text-indent:-18.0pt;}
@list l12:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:82.35pt;
	text-indent:-18.0pt;}
@list l12:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:118.35pt;
	text-indent:-9.0pt;}
@list l12:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:154.35pt;
	text-indent:-18.0pt;}
@list l12:level5
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:190.35pt;
	text-indent:-18.0pt;}
@list l12:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:226.35pt;
	text-indent:-9.0pt;}
@list l12:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:262.35pt;
	text-indent:-18.0pt;}
@list l12:level8
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:298.35pt;
	text-indent:-18.0pt;}
@list l12:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:334.35pt;
	text-indent:-9.0pt;}
@list l13
	{mso-list-id:1171330386;
	mso-list-type:hybrid;
	mso-list-template-ids:-93924086 -1257490404 68747267 68747269 68747265 68747267 68747269 68747265 68747267 68747269;}
@list l13:level1
	{mso-level-start-at:19;
	mso-level-number-format:bullet;
	mso-level-text:–;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:46.35pt;
	text-indent:-18.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";}
@list l13:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:82.35pt;
	text-indent:-18.0pt;
	font-family:"Courier New";}
@list l13:level3
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:118.35pt;
	text-indent:-18.0pt;
	font-family:Wingdings;
	mso-bidi-font-family:Wingdings;}
@list l13:level4
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:154.35pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l13:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:190.35pt;
	text-indent:-18.0pt;
	font-family:"Courier New";}
@list l13:level6
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:226.35pt;
	text-indent:-18.0pt;
	font-family:Wingdings;
	mso-bidi-font-family:Wingdings;}
@list l13:level7
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:262.35pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l13:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:298.35pt;
	text-indent:-18.0pt;
	font-family:"Courier New";}
@list l13:level9
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:334.35pt;
	text-indent:-18.0pt;
	font-family:Wingdings;
	mso-bidi-font-family:Wingdings;}
@list l14
	{mso-list-id:1610510217;
	mso-list-type:simple;
	mso-list-template-ids:68747265;}
@list l14:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l15
	{mso-list-id:1907913079;
	mso-list-template-ids:1579952934;}
@list l15:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l15:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l15:level3
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l15:level4
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l15:level5
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l15:level6
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l15:level7
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l15:level8
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l15:level9
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Wingdings;}
@list l16
	{mso-list-id:1935703025;
	mso-list-type:simple;
	mso-list-template-ids:68747265;}
@list l16:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
@list l10:level1 lfo15
	{mso-level-start-at:1;
	mso-level-number-format:bullet;
	mso-level-numbering:continue;
	mso-level-text:\F0B7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:14.15pt;
	mso-level-legacy-space:0cm;
	margin-left:1.0cm;
	text-indent:-14.15pt;
	font-family:Symbol;
	mso-bidi-font-family:Symbol;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
table.MsoTableGrid
	{mso-style-name:"Сетка таблицы";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-priority:99;
	mso-style-unhide:no;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
table.aa
	{mso-style-name:"Основная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-parent:"";
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=RU link=blue vlink="#954F72" style='tab-interval:1.0cm'>

<div class=WordSection1>

<h4 align=center style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;
margin-left:1.0cm;text-align:center;text-indent:0cm'>Лекция 14. <span
style='font-size:12.0pt'>Программирование сенсоров</span>.</h4>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><i style='mso-bidi-font-style:normal'><span style='font-size:
12.0pt;mso-bidi-font-size:14.0pt'>Примечание: полные листинги кода к данной
лекции находятся в этом файле - </span></i><span style='font-size:12.0pt;
mso-bidi-font-size:14.0pt'><a href="lk14.files/code.java">lk14.files\<span
lang=EN-US style='mso-ansi-language:EN-US'>code</span>.<span lang=EN-US
style='mso-ansi-language:EN-US'>java</span></a></span><i style='mso-bidi-font-style:
normal'><o:p></o:p></i></p>

<p class=MsoNormal align=center style='margin-left:1.0cm;text-align:center;
text-indent:0cm'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'>Акселерометр, датчик ориентации и компас: регулировка и программные
функции. <o:p></o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><span style='font-size:12.0pt'>Акселерометр – это сенсор для
измерения ускорения.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><span style='font-size:12.0pt'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:168.75pt;
 height:201.75pt'>
 <v:imagedata src="lk14.files/image001.png" o:href="http://startofandroid.com/images/stories/lessons/L0137/L0137_020.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=225 height=269
src="lk14.files/image002.gif" v:shapes="_x0000_i1025"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Т.е.
если держать устройство перед собой, то ось X проходит слева направо, ось Y
проходит снизу вверх, ось Z проходит сквозь устройство в вашем направлении.
Сенсор ускорения вернет нам массив из трех значений, каждое из которых соответствует
определенной оси.</span><span style='color:black'><br>
<br>
</span><span class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:
EN-US'>public class </span></b></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>MainActivity </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>extends
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>Activity </span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>{</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp; </span><span class=java10>TextView tvText;</span><br>
<span class=java10>&nbsp; SensorManager sensorManager;</span><br>
<span class=java10>&nbsp; Sensor sensorAccel;</span><br>
<span class=java10>&nbsp; Sensor sensorLinAccel;</span><br>
<span class=java10>&nbsp; Sensor sensorGravity;</span><br>
<br>
<span class=java10>&nbsp; StringBuilder sb = </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>StringBuilder</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>()</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp; Timer timer;</span><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java16><span lang=EN-US
style='color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>protected </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>onCreate</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>Bundle
savedInstanceState</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>.onCreate</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>savedInstanceState</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; setContentView</span><span class=java8>(</span><span
class=java10>R.layout.main</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvText = </span><span class=java8>(</span><span
class=java10>TextView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.tvText</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorManager = </span><span class=java8>(</span><span
class=java10>SensorManager</span><span class=java8>) </span><span class=java10>getSystemService</span><span
class=java8>(</span><span class=java10>SENSOR_SERVICE</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorAccel =
sensorManager.getDefaultSensor</span><span class=java8>(</span><span
class=java10>Sensor.TYPE_ACCELEROMETER</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorLinAccel = sensorManager</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .getDefaultSensor</span><span
class=java8>(</span><span class=java10>Sensor.TYPE_LINEAR_ACCELERATION</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorGravity =
sensorManager.getDefaultSensor</span><span class=java8>(</span><span
class=java10>Sensor.TYPE_GRAVITY</span><span class=java8>)</span><span
class=java10>;</span><br>
<br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java16><span lang=EN-US
style='color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>protected </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>onResume</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>() {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>.onResume</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>()</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorManager.registerListener</span><span
class=java8>(</span><span class=java10>listener, sensorAccel,</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
SensorManager.SENSOR_DELAY_NORMAL</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorManager.registerListener</span><span
class=java8>(</span><span class=java10>listener, sensorLinAccel,</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
SensorManager.SENSOR_DELAY_NORMAL</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorManager.registerListener</span><span
class=java8>(</span><span class=java10>listener, sensorGravity,</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
SensorManager.SENSOR_DELAY_NORMAL</span><span class=java8>)</span><span
class=java10>;</span><br>
<br>
<span class=java10>&nbsp;&nbsp;&nbsp; timer = </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>Timer</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>()</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; TimerTask task = </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>TimerTask</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>() {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java16><span lang=EN-US style='color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>public
</span></b></span><span class=java9><b><span lang=EN-US style='color:#7F0055;
mso-ansi-language:EN-US'>void </span></b></span><span class=java10><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>run</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>() {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>runOnUiThread</span><span class=java8>(</span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>Runnable</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>() {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java16><span lang=EN-US style='color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>public
</span></b></span><span class=java9><b><span lang=EN-US style='color:#7F0055;
mso-ansi-language:EN-US'>void </span></b></span><span class=java10><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>run</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>() {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=java10>showInfo</span><span class=java8>()</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; })</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; timer.schedule</span><span class=java8>(</span><span
class=java10>task, </span><span class=java7>0</span><span class=java10>, </span><span
class=java7>400</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java16><span lang=EN-US
style='color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>protected </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>onPause</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>() {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>.onPause</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>()</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorManager.unregisterListener</span><span
class=java8>(</span><span class=java10>listener</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; timer.cancel</span><span class=java8>()</span><span
class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span><span class=java10>String format</span><span
class=java8>(</span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>float </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>values</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[]) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>return </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>String.format</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;%1$.1f\t\t%2$.1f\t\t%3$.1f&quot;</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>,
values</span></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>[</span></span><span class=java7><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>0</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>]</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>,
values</span></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>[</span></span><span class=java7><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>1</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>]</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>,</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; values</span><span
class=java8>[</span><span class=java7>2</span><span class=java8>])</span><span
class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>showInfo</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>() {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>sb.setLength</span><span
class=java8>(</span><span class=java7>0</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sb.append</span><span class=java8>(</span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;Accelerometer:
&quot; </span></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>+ format</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesAccel</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>))</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>.append</span><span class=java8>(</span></span><span class=java5><span
lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;\n\nAccel
motion: &quot; </span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>+ format</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesAccelMotion</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>))</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>.append</span><span class=java8>(</span></span><span class=java5><span
lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;\nAccel gravity
: &quot; </span></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>+ format</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesAccelGravity</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>))</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>.append</span><span class=java8>(</span></span><span class=java5><span
lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;\n\nLin accel :
&quot; </span></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>+ format</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesLinAccel</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>))</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>.append</span><span class=java8>(</span></span><span class=java5><span
lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;\nGravity :
&quot; </span></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>+ format</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesGravity</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>))</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvText.setText</span><span class=java8>(</span><span
class=java10>sb</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[] </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesAccel
= </span></span><span class=java4><b><span lang=EN-US style='color:#7F0055;
mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[</span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>3</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>]</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[] </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesAccelMotion
= </span></span><span class=java4><b><span lang=EN-US style='color:#7F0055;
mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[</span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>3</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>]</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[] </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesAccelGravity
= </span></span><span class=java4><b><span lang=EN-US style='color:#7F0055;
mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[</span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>3</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>]</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[] </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesLinAccel
= </span></span><span class=java4><b><span lang=EN-US style='color:#7F0055;
mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[</span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>3</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>]</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[] </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>valuesGravity
= </span></span><span class=java4><b><span lang=EN-US style='color:#7F0055;
mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>[</span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>3</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>]</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp; SensorEventListener listener = </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>SensorEventListener</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>() {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>onAccuracyChanged</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>Sensor
sensor, </span></span><span class=java9><b><span lang=EN-US style='color:#7F0055;
mso-ansi-language:EN-US'>int </span></b></span><span class=java10><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>accuracy</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>onSensorChanged</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>SensorEvent
event</span></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>switch
</span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>event.sensor.getType</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>()) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>case
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>Sensor.TYPE_ACCELEROMETER:</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>for
</span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>i = </span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>0</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>; i
&lt; </span></span><span class=java7><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>3</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>; i++</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>valuesAccel</span><span class=java8>[</span><span class=java10>i</span><span
class=java8>] </span><span class=java10>= event.values</span><span class=java8>[</span><span
class=java10>i</span><span class=java8>]</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
valuesAccelGravity</span><span class=java8>[</span><span class=java10>i</span><span
class=java8>] </span><span class=java10>= </span><span class=java8>(</span></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) (</span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>0.1 </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>*
event.values</span></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>[</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>i</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>] </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>+ </span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>0.9 </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>*
valuesAccelGravity</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>[</span></span><span class=java10><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>i</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>])</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
valuesAccelMotion</span><span class=java8>[</span><span class=java10>i</span><span
class=java8>] </span><span class=java10>= event.values</span><span class=java8>[</span><span
class=java10>i</span><span class=java8>]</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=java10>- valuesAccelGravity</span><span class=java8>[</span><span
class=java10>i</span><span class=java8>]</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>case
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>Sensor.TYPE_LINEAR_ACCELERATION:</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>for
</span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>i = </span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>0</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>; i
&lt; </span></span><span class=java7><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>3</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>; i++</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>valuesLinAccel</span><span class=java8>[</span><span class=java10>i</span><span
class=java8>] </span><span class=java10>= event.values</span><span class=java8>[</span><span
class=java10>i</span><span class=java8>]</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>case
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>Sensor.TYPE_GRAVITY:</span></span><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>for
</span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java9><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>i = </span></span><span
class=java7><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>0</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>; i
&lt; </span></span><span class=java7><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>3</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>; i++</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>valuesGravity</span><span class=java8>[</span><span class=java10>i</span><span
class=java8>] </span><span class=java10>= event.values</span><span class=java8>[</span><span
class=java10>i</span><span class=java8>]</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<br>
<span class=java8>&nbsp; }</span><span class=java10>;</span><br>
<br>
<span class=java8>}</span></span><span class=java8><span style='color:#333333'><o:p></o:p></span></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333;
mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onCreate</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>мы</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>получаем</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>три</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>сенсора</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/hardware/Sensor.html#TYPE_ACCELEROMETER"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>TYPE_ACCELEROMETER</span></a></span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>– </span><span style='color:#333333'>ускорение</span><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>, </span><span style='color:#333333'>включая</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>гравитацию</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/hardware/Sensor.html#TYPE_LINEAR_ACCELERATION"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>TYPE_LINEAR_ACCELERATION</span></a></span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>– </span><span style='color:#333333'>ускорение</span><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'> (</span><span style='color:#333333'>чистое</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>, </span><span
style='color:#333333'>без</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>гравитации</span><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>)<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/hardware/Sensor.html#TYPE_GRAVITY"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>TYPE_GRAVITY</span></a></span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>– </span><span style='color:#333333'>гравитация</span><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onResume</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>регистрируем один
слушатель </span><span lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>listener</span><span
style='color:#333333'> на все три сенсора. И запускаем таймер, который будет
каждые 400 мсек отображать данные в </span><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'>TextView</span><span style='color:#333333'>.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onPause</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>отписываем слушателя от
всех сенсоров, вызывая метод </span><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'>unregisterListener</span><span style='color:#333333'>,
но не указывая конкретный сенсор. И отключаем таймер.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>format</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>просто отформатирует </span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>float</span><span
style='color:#333333'> значения до одного знака после запятой.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>showInfo</span></b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span><span
style='color:#333333'>выведет в </span><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'>TextView</span><span style='color:#333333'> данные.
Данные у нас будут в пяти массивах.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В слушателе<span class=apple-converted-space>&nbsp;</span><b>listener</b><span
class=apple-converted-space>&nbsp;</span>в методе onSensorChanged мы определяем
тип сенсора и пишем данные в соответствующие массивы:<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>valuesAccel<span class=apple-converted-space>&nbsp;</span></span></b><span
style='color:#333333'>– данные с сенсора ускорения (включая гравитацию)<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>valuesAccelMotion<span class=apple-converted-space>&nbsp;</span></span></b><span
style='color:#333333'>и<span class=apple-converted-space>&nbsp;</span><b>valuesAccelGravity<span
class=apple-converted-space>&nbsp;</span></b>– данные из valuesAccel,
разделенные с помощью вычислительного фильтра на чистое ускорение (без
гравитации) и гравитацию.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>valuesLinAccel<span class=apple-converted-space>&nbsp;</span></span></b><span
style='color:#333333'>– данные с сенсора ускорения без гравитации<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>valuesGravity<span class=apple-converted-space>&nbsp;</span></span></b><span
style='color:#333333'>– данные с сенсора гравитации<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;tab-stops:207.75pt;background:white'><span
style='color:#333333'><span style='mso-tab-count:1'>                                                            </span><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Запустим
приложение. И положим девайс на стол экраном вверх.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1026" type="#_x0000_t75" style='width:480pt;height:300pt'>
 <v:imagedata src="lk14.files/image003.png" o:href="http://startofandroid.com/images/stories/lessons/L0137/L0137_030.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=640 height=400
src="lk14.files/image004.jpg" v:shapes="_x0000_i1026"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Еще раз
обсудим, что вывелось на экран<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>Accelerometer</span></b><span style='color:#333333'>:
данные по ускорению + гравитация. Видим, что третья ось (Z), которая в лежачем
положении проходит вертикально вверх, показывает ускорение примерно равное
гравитации. Т.е. даже в состоянии покоя сенсор показывает не чистое ускорение а
еще и гравитацию, что не всегда нужно.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Мы
использовали фильтр, чтобы отделить ускорение от гравитации.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>Accel motion</span></b><span style='color:#333333'>:
чистое ускорение, вычисленное из ускорения с гравитацией. Здесь все нули, т.к.
устройство лежит и не двигается.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>Accel gravity</span></b><span style='color:#333333'>:
гравитация, вычисленная из ускорения с гравитацией. Здесь первые две оси = нулю,
т.к. они проходят параллельно земле и по этим осям гравитации нет. Зато она
есть по третьей оси, которая проходит вертикально. Проще говоря планета не
тянет нас влево-вправо-вперед-назад, она тянет нас вниз. Поэтому показывать
ускорение в 9.8 будет та ось, которая находится вертикально к земле.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>Lin accel</span></b><span style='color:#333333'>: данные
с сенсора чистого ускорения (без гравитации). Тут все нули, т.к. устройство в
состоянии покоя. Эти значения примерно должны совпадать с теми, что мы
посчитали в Accel motion.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>Gravity</span></b><span style='color:#333333'>: данные с
сенсора гравитации. Третья ось показывает, что она находится вертикально, т.к.
гравитация по ней близка к максимуму. &nbsp;Эти значения должны совпадать с
теми, что мы посчитали в Accel gravity.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Попробуйте
понаклонять устройство в разные стороны и наблюдайте как меняется гравитация.
При переходе оси от горизонтального положения к вертикальному значение сенсора
по этой оси будет меняться от 0 до 9.8.<o:p></o:p></span></p>

<h3 style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;
margin-left:0cm;mso-line-height-alt:13.5pt;background:white'><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333'>Ориентация<o:p></o:p></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Теперь попробуем использовать данные сенсора ускорения и
добавим к ним данные сенсора магнитного поля. Эти два набора данных при
определенных манипуляциях дадут нам углы наклона устройства.&nbsp;Угла будет три,
по одному для каждой оси.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public class </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>MainActivity </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>extends </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Activity </span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>{</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp; </span><span class=java10>TextView tvText;</span><br>
<span class=java10>&nbsp; SensorManager sensorManager;</span><br>
<span class=java10>&nbsp; Sensor sensorAccel;</span><br>
<span class=java10>&nbsp; Sensor sensorMagnet;</span><br>
<span class=java10>&nbsp; </span><br>
<span class=java10>&nbsp; StringBuilder sb = </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>StringBuilder</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><br>
<span class=java10>&nbsp; Timer timer;</span><br>
<span class=java10>&nbsp; </span><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>int </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rotation;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><br>
<span class=java10>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onCreate</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Bundle savedInstanceState</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onCreate</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>savedInstanceState</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; setContentView</span><span class=java8>(</span><span
class=java10>R.layout.main</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvText = </span><span class=java8>(</span><span
class=java10>TextView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.tvText</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorManager = </span><span class=java8>(</span><span
class=java10>SensorManager</span><span class=java8>) </span><span class=java10>getSystemService</span><span
class=java8>(</span><span class=java10>SENSOR_SERVICE</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorAccel = sensorManager.getDefaultSensor</span><span
class=java8>(</span><span class=java10>Sensor.TYPE_ACCELEROMETER</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorMagnet = sensorManager.getDefaultSensor</span><span
class=java8>(</span><span class=java10>Sensor.TYPE_MAGNETIC_FIELD</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp; </span><br>
<span class=java8>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onResume</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onResume</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorManager.registerListener</span><span
class=java8>(</span><span class=java10>listener, sensorAccel, SensorManager.SENSOR_DELAY_NORMAL</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorManager.registerListener</span><span
class=java8>(</span><span class=java10>listener, sensorMagnet, SensorManager.SENSOR_DELAY_NORMAL</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; timer = </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Timer</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; TimerTask task = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>TimerTask</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java16><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>run</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>runOnUiThread</span><span class=java8>(</span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Runnable</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java16><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>run</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>getDeviceOrientation</span><span class=java8>()</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getActualDeviceOrientation</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; showInfo</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; })</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; timer.schedule</span><span class=java8>(</span><span
class=java10>task, </span><span class=java7>0</span><span class=java10>, </span><span
class=java7>400</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; WindowManager windowManager = </span><span
class=java8>((</span><span class=java10>WindowManager</span><span class=java8>) </span><span
class=java10>getSystemService</span><span class=java8>(</span><span
class=java10>Context.WINDOW_SERVICE</span><span class=java8>))</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; Display display = windowManager.getDefaultDisplay</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; rotation = display.getRotation</span><span
class=java8>()</span><span class=java10>;</span><br>
<br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onPause</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onPause</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sensorManager.unregisterListener</span><span
class=java8>(</span><span class=java10>listener</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; timer.cancel</span><span class=java8>()</span><span
class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp; </span><br>
<span class=java8>&nbsp; </span><span class=java10>String format</span><span
class=java8>(</span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>values</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[]) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>return </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>String.format</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java5><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#2A00FF;mso-ansi-language:EN-US'>&quot;%1$.1f\t\t%2$.1f\t\t%3$.1f&quot;</span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, values</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>]</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, values</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>1</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>]</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, values</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>2</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>])</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp; </span><br>
<span class=java8>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>void </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>showInfo</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>sb.setLength</span><span
class=java8>(</span><span class=java7>0</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sb.append</span><span class=java8>(</span></span><span
class=java5><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#2A00FF;mso-ansi-language:EN-US'>&quot;Orientation : &quot; </span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>+ format</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>))</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>.append</span><span
class=java8>(</span></span><span class=java5><span lang=EN-US style='font-size:
12.0pt;font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:
EN-US'>&quot;\nOrientation 2: &quot; </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>+ format</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult2</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>))</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvText.setText</span><span class=java8>(</span><span
class=java10>sb</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp; </span><br>
<span class=java8>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[] </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>r = </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>9</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>]</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>void </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>getDeviceOrientation</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>SensorManager.getRotationMatrix</span><span
class=java8>(</span><span class=java10>r, null, valuesAccel, valuesMagnet</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; SensorManager.getOrientation</span><span
class=java8>(</span><span class=java10>r, valuesResult</span><span class=java8>)</span><span
class=java10>;</span><br>
<br>
<span class=java10>&nbsp;&nbsp;&nbsp; valuesResult</span><span class=java8>[</span><span
class=java7>0</span><span class=java8>] </span><span class=java10>= </span><span
class=java8>(</span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Math.toDegrees</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>])</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>; </span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp; valuesResult</span><span
class=java8>[</span><span class=java7>1</span><span class=java8>] </span><span
class=java10>= </span><span class=java8>(</span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Math.toDegrees</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>1</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>])</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp; valuesResult</span><span
class=java8>[</span><span class=java7>2</span><span class=java8>] </span><span
class=java10>= </span><span class=java8>(</span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Math.toDegrees</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>2</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>])</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>return</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp; </span><br>
<span class=java8>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[] </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>inR = </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>9</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>]</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[] </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>outR = </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>9</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>]</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>void </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>getActualDeviceOrientation</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>SensorManager.getRotationMatrix</span><span
class=java8>(</span><span class=java10>inR, null, valuesAccel, valuesMagnet</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>x_axis = SensorManager.AXIS_X;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>y_axis = SensorManager.AXIS_Y;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>switch </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rotation</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Surface.ROTATION_0</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>: </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Surface.ROTATION_90</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>:</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; x_axis = SensorManager.AXIS_Y;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; y_axis = SensorManager.AXIS_MINUS_X;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Surface.ROTATION_180</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>:</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; y_axis = SensorManager.AXIS_MINUS_Y;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Surface.ROTATION_270</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>:</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; x_axis = SensorManager.AXIS_MINUS_Y;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; y_axis = SensorManager.AXIS_X;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>default</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>: </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>SensorManager.remapCoordinateSystem</span><span
class=java8>(</span><span class=java10>inR, x_axis, y_axis, outR</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; SensorManager.getOrientation</span><span
class=java8>(</span><span class=java10>outR, valuesResult2</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; valuesResult2</span><span class=java8>[</span><span
class=java7>0</span><span class=java8>] </span><span class=java10>= </span><span
class=java8>(</span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Math.toDegrees</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult2</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>])</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>; </span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; valuesResult2</span><span class=java8>[</span><span
class=java7>1</span><span class=java8>] </span><span class=java10>= </span><span
class=java8>(</span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Math.toDegrees</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult2</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>1</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>])</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>; </span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; valuesResult2</span><span class=java8>[</span><span
class=java7>2</span><span class=java8>] </span><span class=java10>= </span><span
class=java8>(</span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Math.toDegrees</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult2</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>2</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>])</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>; </span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>return</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><span class=java8>}&nbsp; </span><br>
<span class=java8>&nbsp; </span><br>
<span class=java8>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[] </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesAccel = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>3</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>]</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[] </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesMagnet = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>3</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>]</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[] </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>3</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>]</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>float</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[] </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>valuesResult2 = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>float</span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>[</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>3</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>]</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><br>
<span class=java10>&nbsp; </span><br>
<span class=java10>&nbsp; SensorEventListener listener = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>SensorEventListener</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onAccuracyChanged</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Sensor sensor, </span></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>accuracy</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onSensorChanged</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>SensorEvent event</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>switch </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>event.sensor.getType</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Sensor.TYPE_ACCELEROMETER:</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>for </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>i=</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>; i &lt; </span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>3</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>; i++</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>){</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>valuesAccel</span><span class=java8>[</span><span class=java10>i</span><span
class=java8>] </span><span class=java10>= event.values</span><span class=java8>[</span><span
class=java10>i</span><span class=java8>]</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Sensor.TYPE_MAGNETIC_FIELD:</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>for </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>i=</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>; i &lt; </span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>3</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>; i++</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>){</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>valuesMagnet</span><span class=java8>[</span><span class=java10>i</span><span
class=java8>] </span><span class=java10>= event.values</span><span class=java8>[</span><span
class=java10>i</span><span class=java8>]</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>}&nbsp; </span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<span class=java8>&nbsp; }</span><span class=java10>;</span><br>
<span class=java10><span style='mso-spacerun:yes'> </span></span><br>
<span class=java8>}<o:p></o:p></span></span></pre><pre style='margin-left:1.0cm;
line-height:13.5pt'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onCreate<span
class=apple-converted-space>&nbsp;</span></span></b><span style='color:#333333'>мы</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>получаем</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>сенсоры</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>ускорения</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> (TYPE_ACCELEROMETER) </span><span
style='color:#333333'>и</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>магнитного</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>поля</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> (</span><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/hardware/Sensor.html#TYPE_MAGNETIC_FIELD"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>TYPE_MAGNETIC_FIELD</span></a></span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>).<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onResume<span
class=apple-converted-space>&nbsp;</span></span></b><span style='color:#333333'>вешаем
слушателя и запускаем таймер, который каждые 400 мсек будет определять
ориентацию девайса в пространстве и выводить эту инфу на экран. В</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>переменную</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> rotation </span><span
style='color:#333333'>получаем</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>значение</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>текущей</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>ориентации</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>экрана</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>. </span><span
style='color:#333333'>Это нам понадобиться для корректного определения
ориентации девайса.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onPause<span
class=apple-converted-space>&nbsp;</span></span></b><span style='color:#333333'>отключаем
слушателя и таймер.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>format</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>просто отформатирует </span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>float</span><span
style='color:#333333'> значения до одного знака после запятой.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>showInfo</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>покажет</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>данные</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>массивов</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>в</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> TextView. </span><span
style='color:#333333'>Но</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>сначала</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>эти</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>данные</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>надо</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>вычислить</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>. </span><span
style='color:#333333'>Этим</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>займутся</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>следующие</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>два</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>метода</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>getDeviceOrientation</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>определяет текущую
ориентацию девайса в пространстве без учета поворота экрана. Для</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>этого</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>мы</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>сначала</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>вызваем</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>метод<a
href="http://developer.android.com/reference/android/hardware/SensorManager.html#getRotationMatrix(float[], float[], float[], float[])"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>getRotationMatrix</span></a></span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>, </span><span
style='color:#333333'>который</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>берет</span><span style='color:#333333;
mso-ansi-language:EN-US'> </span><span style='color:#333333'>данные</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>ускорения</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>и</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>магнитного</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>поля</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>и</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>формирует</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>из</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>них</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>матрицу</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>данных</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>в</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>переменную</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> r. </span><span
style='color:#333333'>Далее</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>метод</span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'><a
href="http://developer.android.com/reference/android/hardware/SensorManager.html#getOrientation(float[], float[])"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>getOrientation</span></a></span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>из</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>этой</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>матрицы</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>позволяет</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>получить</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>массив</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>значений</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> (</span><span
style='color:#333333'>в</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>радианах</span><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>) </span><span style='color:#333333'>поворота</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>трех</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>осей</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>. </span><span
style='color:#333333'>Остается перевести радианы в градусы методом toDegrees и
у нас есть готовый массив с углами наклона девайса.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод<span class=apple-converted-space>&nbsp;</span><b>getActualDeviceOrientation<span
class=apple-converted-space>&nbsp;</span></b>аналогичен методу
getDeviceOrientation, но он позволяет учесть ориентацию экрана. Для этого мы
дополнительно вызываем метод<a
href="http://developer.android.com/reference/android/hardware/SensorManager.html#remapCoordinateSystem(float[], int, int, float[])"
target="_blank"><span style='color:#006699'>remapCoordinateSystem</span></a>,
который пересчитает нам матрицу. С помощью переменных x_axis и y_axis мы
передаем в этот метод данные о том, как оси поменялись местами при повороте
экрана.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Слушатель<span class=apple-converted-space>&nbsp;</span><b>listener</b><span
class=apple-converted-space>&nbsp;</span>получает данные ускорения и магнитного
поля и пишет их в массивы<span class=apple-converted-space>&nbsp;</span><b>valuesAccel</b><span
class=apple-converted-space>&nbsp;</span>и<span class=apple-converted-space>&nbsp;</span><b>valuesMagnet</b>.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'>Камера. Использование системного приложения или объекта Camera для
получения изображения. <o:p></o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Если вам в приложении необходимо сделать снимок или снять
видео, вовсе необязательно для этого создавать отдельное Activity и работать в
нем с объектом Camera. Можно использовать уже существующее в системе
приложение.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Для этого ваше приложение должно отправить Intent с
action =<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE"
target="_blank"><span style='color:#006699'>MediaStore.ACTION_IMAGE_CAPTURE</span></a><span
class=apple-converted-space>&nbsp;</span>(фото) или<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/provider/MediaStore.html#ACTION_VIDEO_CAPTURE"
target="_blank"><span style='color:#006699'>MediaStore.ACTION_VIDEO_CAPTURE</span></a><span
class=apple-converted-space>&nbsp;</span>(видео) и ждать ответ. Т.е. надо
использовать методы<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/app/Activity.html#startActivityForResult(android.content.Intent, int)"
target="_blank"><span style='color:#006699'>startActivityForResult</span></a><span
class=apple-converted-space>&nbsp;</span>и<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/app/Activity.html#onActivityResult(int, int, android.content.Intent)"
target="_blank"><span style='color:#006699'>onActivityResult</span></a>.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Также, в этот Intent вы можете поместить желаемый путь к
файлу и туда будет сохранен результат работы камеры. Для этого в Intent
необходимо добавить Uri с ключом <a
href="http://developer.android.com/reference/android/provider/MediaStore.html#EXTRA_OUTPUT"
target="_blank"><span style='color:#006699'>MediaStore.EXTRA_OUTPUT</span></a>.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Напишем простое приложение, демонстрирующее эти
возможности.</span><span style='color:black'><br>
<br>
</span><span class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:
EN-US'>public class </span></b></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>MainActivity </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>extends
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>Activity </span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>{</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp; </span><span class=java10>File directory;</span><br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>final </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>int
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>TYPE_PHOTO = </span></span><span class=java7><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>1</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>final </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>int
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>TYPE_VIDEO = </span></span><span class=java7><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>2</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>final </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>int
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>REQUEST_CODE_PHOTO = </span></span><span class=java7><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>1</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>final </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>int
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>REQUEST_CODE_VIDEO = </span></span><span class=java7><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>2</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>final </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>String
TAG = </span></span><span class=java5><span lang=EN-US style='color:#2A00FF;
mso-ansi-language:EN-US'>&quot;myLogs&quot;</span></span><span class=java10><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp; ImageView ivPhoto;</span><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java16><span lang=EN-US
style='color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>protected </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>onCreate</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>Bundle
savedInstanceState</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>.onCreate</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>savedInstanceState</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; setContentView</span><span class=java8>(</span><span
class=java10>R.layout.main</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; createDirectory</span><span class=java8>()</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; ivPhoto = </span><span class=java8>(</span><span
class=java10>ImageView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.ivPhoto</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>onClickPhoto</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>View
view</span></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>Intent intent = </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>Intent</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>MediaStore.ACTION_IMAGE_CAPTURE</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; intent.putExtra</span><span class=java8>(</span><span
class=java10>MediaStore.EXTRA_OUTPUT, generateFileUri</span><span class=java8>(</span><span
class=java10>TYPE_PHOTO</span><span class=java8>))</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; startActivityForResult</span><span
class=java8>(</span><span class=java10>intent, REQUEST_CODE_PHOTO</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>onClickVideo</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>View
view</span></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>Intent intent = </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>Intent</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>MediaStore.ACTION_VIDEO_CAPTURE</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; intent.putExtra</span><span class=java8>(</span><span
class=java10>MediaStore.EXTRA_OUTPUT, generateFileUri</span><span class=java8>(</span><span
class=java10>TYPE_VIDEO</span><span class=java8>))</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; startActivityForResult</span><span
class=java8>(</span><span class=java10>intent, REQUEST_CODE_VIDEO</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java16><span lang=EN-US
style='color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span
lang=EN-US style='color:#646464;mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>protected </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>onActivityResult</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>int
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>requestCode, </span></span><span class=java9><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>resultCode,</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Intent intent</span><span
class=java8>) {</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>requestCode
== REQUEST_CODE_PHOTO</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>if
</span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>resultCode == RESULT_OK</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>if
</span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>intent == </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>null</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>Log.d</span><span class=java8>(</span><span class=java10>TAG, </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;Intent
is null&quot;</span></span><span class=java8><span lang=EN-US style='color:
black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>} </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>else </span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>{</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>Log.d</span><span class=java8>(</span><span class=java10>TAG, </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;Photo
uri: &quot; </span></span><span class=java10><span lang=EN-US style='color:
black;mso-ansi-language:EN-US'>+ intent.getData</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>())</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Bundle bndl = intent.getExtras</span><span class=java8>()</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>if
</span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>bndl != </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>null</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=java10>Object obj = intent.getExtras</span><span
class=java8>()</span><span class=java10>.get</span><span class=java8>(</span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;data&quot;</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=java4><b><span lang=EN-US style='color:#7F0055;
mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>obj </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>instanceof
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>Bitmap</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=java10>Bitmap bitmap = </span><span class=java8>(</span><span
class=java10>Bitmap</span><span class=java8>) </span><span class=java10>obj;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Log.d</span><span class=java8>(</span><span class=java10>TAG, </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;bitmap
&quot; </span></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>+ bitmap.getWidth</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>() </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>+ </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;
x &quot;</span></span><span lang=EN-US style='color:#2A00FF;mso-ansi-language:
EN-US'><br>
<span class=java5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>+ bitmap.getHeight</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>())</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ivPhoto.setImageBitmap</span><span class=java8>(</span><span class=java10>bitmap</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>else
if </span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>resultCode == RESULT_CANCELED</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>Log.d</span><span class=java8>(</span><span class=java10>TAG, </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;Canceled&quot;</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>requestCode
== REQUEST_CODE_VIDEO</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>if
</span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>resultCode == RESULT_OK</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>if
</span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>intent == </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>null</span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>Log.d</span><span class=java8>(</span><span class=java10>TAG, </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;Intent
is null&quot;</span></span><span class=java8><span lang=EN-US style='color:
black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>} </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>else </span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>{</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>Log.d</span><span class=java8>(</span><span class=java10>TAG, </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;Video
uri: &quot; </span></span><span class=java10><span lang=EN-US style='color:
black;mso-ansi-language:EN-US'>+ intent.getData</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>())</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>else
if </span></b></span><span class=java8><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>(</span></span><span class=java10><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>resultCode == RESULT_CANCELED</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>Log.d</span><span class=java8>(</span><span class=java10>TAG, </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;Canceled&quot;</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<span class=java8>&nbsp; }</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>private </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>Uri
generateFileUri</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>(</span></span><span class=java9><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>type</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>File file = </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>null</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>switch </span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>type</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>) {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>TYPE_PHOTO:</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file = </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>File</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>directory.getPath</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>() </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>+ </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;/&quot;
</span></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>+ </span></span><span class=java5><span lang=EN-US
style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;photo_&quot;</span></span><span
lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'><br>
<span class=java5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>+
System.currentTimeMillis</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>() </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>+ </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;.jpg&quot;</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>TYPE_VIDEO:</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file = </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>File</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>directory.getPath</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>() </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>+ </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;/&quot;
</span></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>+ </span></span><span class=java5><span lang=EN-US
style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;video_&quot;</span></span><span
lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'><br>
<span class=java5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>+
System.currentTimeMillis</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>() </span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>+ </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;.mp4&quot;</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>Log.d</span><span
class=java8>(</span><span class=java10>TAG, </span></span><span class=java5><span
lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;fileName =
&quot; </span></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>+ file</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>return </span></b></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>Uri.fromFile</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>file</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='color:#7F0055;mso-ansi-language:EN-US'>private </span></b></span><span
class=java9><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>void
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>createDirectory</span></span><span class=java8><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>() {</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>directory = </span></span><span
class=java4><b><span lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>new
</span></b></span><span class=java10><span lang=EN-US style='color:black;
mso-ansi-language:EN-US'>File</span></span><span class=java8><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'>(</span></span><span lang=EN-US
style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>Environment</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.getExternalStoragePublicDirectory</span><span class=java8>(</span><span
class=java10>Environment.DIRECTORY_PICTURES</span><span class=java8>)</span><span
class=java10>,</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java5><span lang=EN-US style='color:#2A00FF;mso-ansi-language:EN-US'>&quot;MyFolder&quot;</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>)</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>;</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>(</span></span><span
class=java10><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>!directory.exists</span></span><span
class=java8><span lang=EN-US style='color:black;mso-ansi-language:EN-US'>())</span></span><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>directory.mkdirs</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>}</span></span><span class=java8><span style='color:#333333'><o:p></o:p></span></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333;
mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onCreate</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>мы вызываем свой метод </span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>createDirectory</span><span
style='color:#333333'>, который в папке </span><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>Pictures</span><span
style='color:#333333'> создаст папку для наших файлов и поместит
соответствующий объект </span><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>File</span><span style='color:#333333'> в переменную </span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>directory</span><span
style='color:#333333'>.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onClickPhoto</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>и</span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><b><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>onClickVideo</span></b><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><span
style='color:#333333'>создаем</span><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'> Intent </span><span style='color:#333333'>с</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>соответствующим</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> action, </span><span
style='color:#333333'>добавляем</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>в</span><span style='color:#333333;
mso-ansi-language:EN-US'> </span><span style='color:#333333'>этот</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> Intent </span><span
style='color:#333333'>желаемый</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>путь</span><span style='color:#333333;
mso-ansi-language:EN-US'> </span><span style='color:#333333'>к</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>файлу</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>и</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>отправляем</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>методом</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>
startActivityForResult.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onActivityResult</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>мы</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>ловим</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>результат</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>от</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>приложения</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>камеры</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>.&nbsp; </span><span
style='color:#333333'>Код</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>громоздкий</span><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>, </span><span style='color:#333333'>т</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>.</span><span
style='color:#333333'>к</span><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>. </span><span style='color:#333333'>там</span><span style='color:#333333;
mso-ansi-language:EN-US'> </span><span style='color:#333333'>куча</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>проверок</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>на</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> null. </span><span
style='color:#333333'>Для</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>фото</span><span style='color:#333333;
mso-ansi-language:EN-US'> </span><span style='color:#333333'>и</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>для</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>видео</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>я</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>пытаюсь</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>вытащить</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>путь</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>к</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>получившемуся</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>файлу</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>, </span><span
style='color:#333333'>используя</span><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'> Intent.getData. </span><span style='color:#333333'>Кроме</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>этого</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>, </span><span
style='color:#333333'>для</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>фото</span><span style='color:#333333;
mso-ansi-language:EN-US'> </span><span style='color:#333333'>я</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>еще</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>пытаюсь</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>вытащить</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> Bitmap </span><span
style='color:#333333'>с</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>получившимся</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>изображением</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>generateFileUri</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>генерирует</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>путь</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>к</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>файлу</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>. </span><span
style='color:#333333'>Для</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>этого</span><span style='color:#333333;
mso-ansi-language:EN-US'> </span><span style='color:#333333'>он</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>берет</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>путь</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>из</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> directory, </span><span
style='color:#333333'>определяет</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>префикс</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>и</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>расширение</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>в</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>зависимости</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>от</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>типа</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> (</span><span
style='color:#333333'>фото</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>или</span><span style='color:#333333;
mso-ansi-language:EN-US'> </span><span style='color:#333333'>видео</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>) </span><span
style='color:#333333'>и</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>использует</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>системное</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>время</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>, </span><span
style='color:#333333'>как</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>основную</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>часть</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>имени</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>файла</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>. </span><span
style='color:#333333'>Далее все это конвертируется в </span><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>Uri</span><span style='color:
#333333'> и возвращается как результат метода.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Осталось
дописать в манифест пару настроек.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><i><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>&lt;uses-permission
android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;</span></i><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>- </span><span style='color:#333333'>право</span><span style='color:
#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>на</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>запись</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>на</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'> SD </span><span
style='color:#333333'>карту</span><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><i><span
style='color:#333333'>&lt;</span></i><i><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'>uses</span><span style='color:#333333'>-</span></i><i><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>feature</span><span
lang=EN-US style='color:#333333'> </span></i><i><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'>android</span><span
style='color:#333333'>:</span></i><i><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'>name</span><span style='color:#333333'>=&quot;</span></i><i><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>android</span><span
style='color:#333333'>.</span></i><i><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'>hardware</span><span style='color:#333333'>.</span></i><i><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>camera</span><span
style='color:#333333'>&quot; /&gt;</span></i><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><span
style='color:#333333'>- ваше приложение в маркете будет видно только
устройствам с камерой<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Сохраняем
все и запускаем приложение.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Жмем</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>Photo</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>– открывается системное
приложение камеры. Делаем фото и подтверждаем, что нас устраивает полученный
снимок. Нас возвращают в наше приложение.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Попробуем получить видео. Жмем кнопку<span
class=apple-converted-space>&nbsp;</span><b>Video</b>, снимаем ролик и
подтверждаем, что он нас устраивает.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>В случае
с видео Intent не null. И его метод getData вернул нам инфу о пути к файлу.
Идем в папку и ищем свой файл.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Теперь
давайте не будем явно указывать путь для сохранения, и посмотрим, как поведет
себя приложение камеры.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Закомментируем</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>соответствующие</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>строки</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>кода</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span class=java0><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:white;mso-ansi-language:EN-US'>&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onClickPhoto</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>View view</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>Intent intent = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Intent</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>MediaStore.ACTION_IMAGE_CAPTURE</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>//intent.putExtra(MediaStore.EXTRA_OUTPUT, generateFileUri(TYPE_PHOTO));</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>startActivityForResult</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>intent, REQUEST_CODE_PHOTO</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>public </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onClickVideo</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>View view</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>Intent intent = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Intent</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>MediaStore.ACTION_VIDEO_CAPTURE</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>//intent.putExtra(MediaStore.EXTRA_OUTPUT, generateFileUri(TYPE_VIDEO));</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>startActivityForResult</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>intent, REQUEST_CODE_VIDEO</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><span class=java8>}</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><o:p></o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Сохраняем, запускаем приложение.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Жмем<span class=apple-converted-space>&nbsp;</span><b>Photo</b>,
делаем снимок и подтверждаем его, открывается наше приложение и ImageView
показывает только что сделанное фото.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1027" type="#_x0000_t75" style='width:4in;height:480pt'>
 <v:imagedata src="lk14.files/image005.png" o:href="http://startandroid.ru/images/stories/lessons/L0131/L0131_010.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=384 height=640
src="lk14.files/image006.jpg" v:shapes="_x0000_i1027"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Кроме
желаемого пути для видео вы можете указать еще некоторые параметры в intent:<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/provider/MediaStore.html#EXTRA_VIDEO_QUALITY"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>MediaStore.EXTRA_VIDEO_QUALITY</span></a></span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>– </span><span style='color:#333333'>качество</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>видео</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>. </span><span
style='color:#333333'>0 (плохое) или 1 (хорошее).<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/provider/MediaStore.html#EXTRA_DURATION_LIMIT"
target="_blank"><span style='color:#006699'>MediaStore.EXTRA_DURATION_LIMIT</span></a><span
class=apple-converted-space>&nbsp;</span>– лимит продолжительности видео в
секундах<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/provider/MediaStore.html#EXTRA_SIZE_LIMIT"
target="_blank"><span style='color:#006699'>MediaStore.EXTRA_SIZE_LIMIT</span></a><span
class=apple-converted-space>&nbsp;</span>– лимит размера получившегося видео в
байтах<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:0cm'><b
style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'>Обработка поворота устройства. Настройки камеры. <o:p></o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Разберемся, какие основные объекты нам понадобятся для
вывода изображения с камеры на экран. Их три:<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.html"
target="_blank"><span style='color:#006699'>Camera</span></a>,<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/view/SurfaceView.html"
target="_blank"><span style='color:#006699'>SurfaceView</span></a>,<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/view/SurfaceHolder.html"
target="_blank"><span style='color:#006699'>SurfaceHolder</span></a>.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Camera
используется, чтобы получить изображение с камеры. А чтобы это изображение в
приложении отобразить, будем использовать SurfaceView.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Surface.
Это некий компонент, который отображает изображение с камеры.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Работа с
surface ведется не напрямую, а через посредника – SurfaceHolder (далее holder).
Именно с этим объектом умеет работать Camera. Также, holder будет сообщать нам
о том, что surface готов к работе, изменен или более недоступен.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>А если
подытожить, то: Camera берет holder и с его помощью выводит изображение на
surface.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Напишем
приложение, в котором реализуем вывод изображения с камеры на экран.<o:p></o:p></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public class </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>MainActivity </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>extends </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Activity </span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>{</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp; </span><span class=java10>SurfaceView sv;</span><br>
<span class=java10>&nbsp; SurfaceHolder holder;</span><br>
<span class=java10>&nbsp; HolderCallback holderCallback;</span><br>
<span class=java10>&nbsp; Camera camera;</span><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>final </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>CAMERA_ID = </span></span><span
class=java7><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>final </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>boolean </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>FULL_SCREEN = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>true</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onCreate</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Bundle savedInstanceState</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onCreate</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>savedInstanceState</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; requestWindowFeature</span><span
class=java8>(</span><span class=java10>Window.FEATURE_NO_TITLE</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; getWindow</span><span class=java8>()</span><span
class=java10>.setFlags</span><span class=java8>(</span><span class=java10>WindowManager.LayoutParams.FLAG_FULLSCREEN,</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WindowManager.LayoutParams.FLAG_FULLSCREEN</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; setContentView</span><span class=java8>(</span><span
class=java10>R.layout.main</span><span class=java8>)</span><span class=java10>;</span><br>
<br>
<span class=java10>&nbsp;&nbsp;&nbsp; sv = </span><span class=java8>(</span><span
class=java10>SurfaceView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.surfaceView</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; holder = sv.getHolder</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; holder.setType</span><span class=java8>(</span><span
class=java10>SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS</span><span class=java8>)</span><span
class=java10>;</span><br>
<br>
<span class=java10>&nbsp;&nbsp;&nbsp; holderCallback = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>HolderCallback</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; holder.addCallback</span><span
class=java8>(</span><span class=java10>holderCallback</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onResume</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onResume</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; camera = Camera.open</span><span
class=java8>(</span><span class=java10>CAMERA_ID</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; setPreviewSize</span><span class=java8>(</span><span
class=java10>FULL_SCREEN</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onPause</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onPause</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>camera != </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>null</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>camera.release</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; camera = </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>null</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>class </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>HolderCallback </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>implements </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>SurfaceHolder.Callback </span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>{</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>surfaceCreated</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>SurfaceHolder holder</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>try </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>{</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>camera.setPreviewDisplay</span><span class=java8>(</span><span
class=java10>holder</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; camera.startPreview</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>} </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>catch </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>IOException e</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>e.printStackTrace</span><span class=java8>()</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>surfaceChanged</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>SurfaceHolder holder, </span></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>format, </span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>width,</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>height</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>camera.stopPreview</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setCameraDisplayOrientation</span><span
class=java8>(</span><span class=java10>CAMERA_ID</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>try </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>{</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>camera.setPreviewDisplay</span><span class=java8>(</span><span
class=java10>holder</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; camera.startPreview</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>} </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>catch </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Exception e</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>e.printStackTrace</span><span class=java8>()</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>surfaceDestroyed</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>SurfaceHolder holder</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<br>
<span class=java8>&nbsp; }</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>void </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>setPreviewSize</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>boolean </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>fullScreen</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>получаем</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>размеры</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>экрана</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Display display = getWindowManager</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.getDefaultDisplay</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>boolean </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>widthIsMax = display.getWidth</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>&gt; display.getHeight</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>определяем</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>размеры</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>превью</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>камеры</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Size size = camera.getParameters</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.getPreviewSize</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; RectF rectDisplay = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>RectF</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; RectF rectPreview = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>RectF</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// RectF </span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F'>экрана</span></span><span class=java3><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F;
mso-ansi-language:EN-US'>, </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>соотвествует</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>размерам</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>экрана</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rectDisplay.set</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, </span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, display.getWidth</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, display.getHeight</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>())</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// RectF </span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F'>первью</span></span><span class=java3><span style='font-size:
12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F;mso-ansi-language:
EN-US'> </span></span><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>widthIsMax</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>превью</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>в</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>горизонтальной</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>ориентации</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rectPreview.set</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, </span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, size.width, size.height</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>} </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>else </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>{</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>превью</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>в</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>вертикальной</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>ориентации</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rectPreview.set</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, </span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>, size.height, size.width</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>Matrix matrix = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Matrix</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>подготовка</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>матрицы</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>преобразования</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>!fullScreen</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>если</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>превью</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>будет</span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> &quot;</span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>втиснут</span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>&quot; </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>в</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>экран</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>matrix.setRectToRect</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rectPreview, rectDisplay,</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Matrix.ScaleToFit.START</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>} </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>else </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>{</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>если</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>экран</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>будет</span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> &quot;</span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>втиснут</span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>&quot; </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>в</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>превью</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>matrix.setRectToRect</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rectDisplay, rectPreview,</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Matrix.ScaleToFit.START</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; matrix.invert</span><span
class=java8>(</span><span class=java10>matrix</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>преобразование</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>matrix.mapRect</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rectPreview</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>установка</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>размеров</span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> surface </span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F'>из</span></span><span class=java3><span style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F'>получившегося</span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F;
mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>преобразования</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>sv.getLayoutParams</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.height = </span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) (</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rectPreview.bottom</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; sv.getLayoutParams</span><span
class=java8>()</span><span class=java10>.width = </span><span class=java8>(</span></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) (</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rectPreview.right</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java9><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>void </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>setCameraDisplayOrientation</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>cameraId</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>определяем</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>насколько</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>повернут</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>экран</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>от</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>нормального</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>положения</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rotation = getWindowManager</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.getDefaultDisplay</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.getRotation</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>degrees = </span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>switch </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>rotation</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Surface.ROTATION_0:</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; degrees = </span><span
class=java7>0</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Surface.ROTATION_90:</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; degrees = </span><span
class=java7>90</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Surface.ROTATION_180:</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; degrees = </span><span
class=java7>180</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>case </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Surface.ROTATION_270:</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; degrees = </span><span
class=java7>270</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>break</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>result = </span></span><span class=java7><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>0</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>получаем</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>инфо</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>по</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>камере</span></span><span
class=java3><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> cameraId</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F;
mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>CameraInfo info = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>CameraInfo</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; Camera.getCameraInfo</span><span
class=java8>(</span><span class=java10>cameraId, info</span><span class=java8>)</span><span
class=java10>;</span><br>
<br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>задняя</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>камера</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>info.facing == CameraInfo.CAMERA_FACING_BACK</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>result = </span><span
class=java8>((</span><span class=java7>360 </span><span class=java10>- degrees</span><span
class=java8>) </span><span class=java10>+ info.orientation</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>} </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>else</span></b></span><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'><br>
<span class=java4>&nbsp;&nbsp;&nbsp; </span></span></b><span class=java3><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'>// </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>передняя</span></span><span
class=java3><span style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'> </span></span><span class=java3><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F5F'>камера</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#3F7F5F;mso-ansi-language:EN-US'><br>
<span class=java3>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>info.facing == CameraInfo.CAMERA_FACING_FRONT</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>result = </span><span
class=java8>((</span><span class=java7>360 </span><span class=java10>- degrees</span><span
class=java8>) </span><span class=java10>- info.orientation</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result += </span><span
class=java7>360</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>result = result % </span><span
class=java7>360</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; camera.setDisplayOrientation</span><span
class=java8>(</span><span class=java10>result</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<span class=java8>}</span></span><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#333333;mso-ansi-language:EN-US'><o:p></o:p></span></pre>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Смотрим</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>код</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onCreate</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>настраиваем </span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>Activity</span><span
style='color:#333333'> так, чтобы оно было без заголовка и в полный экран.
Затем мы определяем surface,<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/view/SurfaceView.html#getHolder()"
target="_blank"><span style='color:#006699'>получаем</span></a><span
class=apple-converted-space>&nbsp;</span>его holder и<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/view/SurfaceHolder.html#setType(int)"
target="_blank"><span style='color:#006699'>устанавливаем</span></a><span
class=apple-converted-space>&nbsp;</span>его тип =<a
href="http://developer.android.com/reference/android/view/SurfaceHolder.html#SURFACE_TYPE_PUSH_BUFFERS"
target="_blank"><span style='color:#006699'>SURFACE_TYPE_PUSH_BUFFERS</span></a><span
class=apple-converted-space>&nbsp;</span>(настройка типа нужна только в Android
версии ниже 3.0).<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Далее
для holder создаем callback объект HolderCallback (о нем чуть дальше), через
который holder будет сообщать нам о состояниях surface.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В<span class=apple-converted-space>&nbsp;</span><b>onResume</b><span
class=apple-converted-space>&nbsp;</span>получаем доступ к камере, используя
метод<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.html#open(int)"
target="_blank"><span style='color:#006699'>open</span></a>. На вход передаем
id камеры, если их несколько (задняя и передняя). Этот метод доступен с API
level 9. Дальше есть информация о том, как получить id камеры.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Также существует метод<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.html#open()"
target="_blank"><span style='color:#006699'>open</span></a>&nbsp;без требования
id на вход. Он даст доступ к задней камере. Он доступен и в более ранних
версиях.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>После
этого вызываем метод setPreviewSize, в котором настраиваем размер surface. Его
подробно обсудим ниже.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В<span class=apple-converted-space>&nbsp;</span><b>onPause</b><span
class=apple-converted-space>&nbsp;</span>освобождаем камеру методом<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.html#release()"
target="_blank"><span style='color:#006699'>release</span></a>, чтобы другие
приложения могли ее использовать.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Класс<span class=apple-converted-space>&nbsp;</span><b>HolderCallback</b>,
реализует интерфейс<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/view/SurfaceHolder.Callback.html"
target="_blank"><span style='color:#006699'>SurfaceHolder.Callback</span></a>.
Напомню, что через него holder сообщает нам о состоянии surface.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>В нем
три метода:<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/view/SurfaceHolder.Callback.html#surfaceCreated(android.view.SurfaceHolder)"
target="_blank"><span style='color:#006699'>surfaceCreated</span></a><span
class=apple-converted-space>&nbsp;</span>– surface создан. Мы можем дать камере
объект holder с помощью метода<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.html#setPreviewDisplay(android.view.SurfaceHolder)"
target="_blank"><span style='color:#006699'>setPreviewDisplay</span></a><span
class=apple-converted-space>&nbsp;</span>и начать транслировать изображение
методом<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.html#startPreview()"
target="_blank"><span style='color:#006699'>startPreview</span></a>.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/view/SurfaceHolder.Callback.html#surfaceChanged(android.view.SurfaceHolder, int, int, int)"
target="_blank"><span style='color:#006699'>surfaceChanged</span></a><span
class=apple-converted-space>&nbsp;</span>– был изменен формат или размер
surface. В этом случае мы останавливаем просмотр (<a
href="http://developer.android.com/reference/android/hardware/Camera.html#stopPreview()"
target="_blank"><span style='color:#006699'>stopPreview</span></a>),
настраиваем камеру с учетом поворота устройства (setCameraDisplayOrientation,
подробности ниже), и снова запускаем просмотр.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/view/SurfaceHolder.Callback.html#surfaceDestroyed(android.view.SurfaceHolder)"
target="_blank"><span style='color:#006699'>surfaceDestroyed</span></a><span
class=apple-converted-space>&nbsp;</span>– surface более недоступен. Не
используем этот метод.<o:p></o:p></span></p>

<h3 style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;
margin-left:1.0cm;text-indent:0cm;line-height:13.5pt;background:white'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>Размер
превью<o:p></o:p></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод<span class=apple-converted-space>&nbsp;</span><b>setPreviewSize</b>.
Немного нетривиальный, особенно если вы никогда не работали с объектами<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/graphics/Matrix.html"
target="_blank"><span style='color:#006699'>Matrix</span></a><span
class=apple-converted-space>&nbsp;</span>и<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/graphics/RectF.html"
target="_blank"><span style='color:#006699'>RectF</span></a>.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>В нем мы
определяем размеры surface с учетом экрана и изображения с камеры, чтобы
картинка отображалась с верным соотношением сторон и на весь экран.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Итак, у
нас есть картинка, которая приходит с камеры – назовем ее превью. И у нас есть
экран, на котором нам надо это превью отобразить.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Рассмотрим
конкретный пример, чтобы было нагляднее. Планшет Galaxy Tab, задняя камера,
нормальное горизонтальное положение.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Есть
экран. Размер: 1280x752. Соотношение сторон: 1280/752 = 1,70<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1028" type="#_x0000_t75" style='width:485.25pt;height:286.5pt'>
 <v:imagedata src="lk14.files/image007.png" o:href="http://startofandroid.com/images/stories/lessons/L0132/L0132_010.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=647 height=382
src="lk14.files/image008.gif" v:shapes="_x0000_i1028"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Есть
превью. Размер: 640x480. Соотношение сторон: 640/480 = 1,33.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1029" type="#_x0000_t75" style='width:245.25pt;height:184.5pt'>
 <v:imagedata src="lk14.files/image009.png" o:href="http://startofandroid.com/images/stories/lessons/L0132/L0132_020.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=327 height=246
src="lk14.files/image010.gif" v:shapes="_x0000_i1029"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Допустим,
что мы камеру навели на какой-то круг.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Мы хотим
получить картинку на весь экран. Какие есть варианты? Их три.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>1)
Растянуть превью на экран. Плохой вариант, т.к. для этого соотношение сторон
должно быть одинаковым, а у нас оно разное. Но все же попытаемся, чтобы увидеть
результат.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Для
этого нам ширину превью надо умножить на 1280/640 = 2. А высоту на 752/480 =
1,57. В итоге имеем:<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1030" type="#_x0000_t75" style='width:482.25pt;height:284.25pt'>
 <v:imagedata src="lk14.files/image011.png" o:href="http://startofandroid.com/images/stories/lessons/L0132/L0132_030.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=643 height=379
src="lk14.files/image012.gif" v:shapes="_x0000_i1030"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>видно,
что картинка деформировалась и стала растянутой по горизонтали. Нам это не
подходит.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>2)
Втиснуть превью в экран с сохранением пропорций. Для этого мы будем менять
размеры превью (сохраняя соотношение сторон), пока оно изнутри не упрется в
границы экрана по высоте или ширине. В нашем случае оно упрется по высоте.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Для
этого нам надо умножить ширину и высоту превью на меньшее из чисел: 1280/640 =
2 и 752/480 = 1,57, т.е. на 1.57.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Смотрим,
чего получилось<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1031" type="#_x0000_t75" style='width:483pt;height:284.25pt'>
 <v:imagedata src="lk14.files/image013.png" o:href="http://startofandroid.com/images/stories/lessons/L0132/L0132_040.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=644 height=379
src="lk14.files/image014.gif" v:shapes="_x0000_i1031"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>стало
гораздо лучше. Теперь картинка превью не искажена. Единственное, что немного
смущает – пустые области по бокам экрана. Но ничего не мешает закрасить их
черным и пусть все думают, что так и задумано. Зато мы будем видеть полную и
неискаженную картинку. Так, например, обычно делается в видео-плеерах.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>3)
Втиснуть экран в превью. Т.е. сделать второй вариант наоборот. Менять размер
экрана (сохраняя соотношение сторон) до тех пор пока он изнутри не упрется в
границы превью по высоте или ширине.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Для
этого нам надо было бы ширину и высоту экрана разделить на большее из чисел:
1280/640 = 2 и 752/480 = 1,57, т.е. на 2.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Но т.к.
менять размеры экрана мы не можем физически, то мы будем менять размеры превью
чтобы достигнуть описанного результата.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Для
этого нам надо умножить ширину и высоту превью на большее из чисел: 1280/640 =
2 и 752/480 = 1,57, т.е. на 2.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Результат<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1032" type="#_x0000_t75" style='width:483pt;height:362.25pt'>
 <v:imagedata src="lk14.files/image015.png" o:href="http://startofandroid.com/images/stories/lessons/L0132/L0132_050.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=644 height=483
src="lk14.files/image016.gif" v:shapes="_x0000_i1032"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Картинка
не искажена и занимает полный экран. Но есть нюанс. Мы не видим всего
изображения. Оно выходит за границы экрана сверху и снизу.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>На
всякий случай укажу, что это лишь один пример. В других может быть по другому.
Например, во втором варианте пустые области могут быть не по бокам, а сверху и
снизу. А на мелких девайсах размер превью будет больше размера экрана. Но общий
смысл и алгоритм от этого не меняются.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Мы
рассмотрели три варианта, и увидели, что первый совсем плох, а второй и третий
вполне годятся для реализации.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>От
картинок возвращаемся к коду. Метод setPreviewSize(boolean fullScreen)
реализует второй (если fullScreen == false) и третий (если fullScreen == true)
варианты.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Красота
метода в том, что все преобразования за нас делает Matrix (матрица). И нам
самим не надо будет ничего умножать или делить.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Сначала
мы получаем размеры экрана и превью. Для экрана сразу выясняем что больше:
ширина или высота. Т.е. если ширина больше, то устройство находится в
горизонтальной ориентации, если высота больше – в вертикальной.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Для
преобразований матрица потребует от нас RectF объекты. Если никогда еще не
работали с ними, то это просто объект, который содержит координаты
прямоугольника: left, top, right, bottom.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1033" type="#_x0000_t75" style='width:360.75pt;height:282.75pt'>
 <v:imagedata src="lk14.files/image017.png" o:href="http://startofandroid.com/images/stories/lessons/L0132/L0132_060.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=481 height=377
src="lk14.files/image018.gif" v:shapes="_x0000_i1033"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>В
качестве left и top мы всегда будем использовать 0, а в right и bottom помещать
ширину и высоту экрана или превью. Тем самым мы будем получать прямоугольники
точно совпадающие по размерам с экраном и превью.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>rectDisplay
– экран, rectPreview – превью. У превью обычно ширина всегда больше высоты.
Если устройство в горизонтальной ориентации, то мы создаем rectPreview
соответственно его размерам. А если устройство вертикально, то изображение с
камеры будет также повернуто вертикально, следовательно ширина и высота
поменяются местами.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Теперь самое интересное – подготовка преобразования.
Используем метод<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/graphics/Matrix.html#setRectToRect(android.graphics.RectF, android.graphics.RectF, android.graphics.Matrix.ScaleToFit)"
target="_blank"><span style='color:#006699'>setRectToRect</span></a>. Он берет
на вход два RectF. И вычисляет, какие преобразования надо сделать, чтобы первый
втиснуть во второй. Про третий параметр метода я сейчас рассказывать не буду,
мы всегда используем START. (Если все же интересно, задавайте вопрос на форуме,
там обсудим)<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Т.е.
этот метод пока не меняет объекты. Это только настройка матрицы. Теперь матрица
знает, какие расчеты ей надо будет произвести с координатами объекта, который
мы ей позже предоставим.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Смотрим
код. Если (!fullScreen), то это второй вариант, т.е. превью будет втиснут в
экран. Для этого мы просто сообщаем матрице, что нам объект с размерами превью
надо будет втиснуть в объект с размерами экрана. Т.е. если обратиться ко
второму варианту, то матрица поняла, что ей надо будет умножить стороны объекта
на 1.57. И когда мы ей потом предоставим объект с размерами превью – она это
сделает и мы получим необходимые нам размеры.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Если же
fullScreen (третий вариант), то алгоритм чуть сложнее. Мы сообщаем матрице, что
нам надо объект с размерами экрана втиснуть в объект с размерами превью.
Смотрим третий вариант. Поначалу мы выяснили, что экран надо будет разделить на
два. Но потом мы поняли, что мы не можем менять размеры экрана и нам надо
делать наоборот – не экран делить на два, а превью умножить на два. Это мы
можем объяснить и матрице вызвав метод invert. Матрица возьмет алгоритм из
переданной ей матрицы (т.е. из самой себя), и сделает все наоборот. Т.е. вместо
того, чтобы разделить на два – умножит.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Итак, мы подготовили матрицу к преобразованию, осталось
только вручить ей объект, который она этим преобразованием подвергнет. Для
этого используем метод<a
href="http://developer.android.com/reference/android/graphics/Matrix.html#mapRect(android.graphics.RectF)"
target="_blank"><span style='color:#006699'>mapRect</span></a><span
class=apple-converted-space>&nbsp;</span>и передаем ему объект с размерами
превью. Как и в примере выше, все преобразования мы будем проводить с ним.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>После
проведения преобразований мы берем получившиеся координаты и настраиваем по ним
surface, которое отображает превью.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<h3 style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;
margin-left:1.0cm;text-indent:0cm;line-height:13.5pt;background:white'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>Поворот
превью<o:p></o:p></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Если мозг еще не разрушен, сейчас мы это исправим!
Разбираем метод<span class=apple-converted-space>&nbsp;</span><b>setCameraDisplayOrientation</b>,
который будет превью вращать.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Снова
рассмотрим пример, когда используется планшет в горизонтальном состоянии,
камера – задняя. Допустим, мы через камеру смотрим на такой объект:<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1034" type="#_x0000_t75" style='width:96.75pt;height:96pt'>
 <v:imagedata src="lk14.files/image019.png" o:href="http://startofandroid.com/images/stories/lessons/L0132/L0132_070.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=129 height=128
src="lk14.files/image020.gif" v:shapes="_x0000_i1034"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Видим
его на экране, все ок.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><em><span
style='color:#333333'>Важное замечание. Через стандартное приложение камеры
нижеописанный пример не воспроизведется, т.к. стандартное приложение
обрабатывает поворот устройства. А я хочу продемонстрировать, что было бы если
бы не обрабатывало.</span></em><span style='color:#333333'><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Я
поворачиваю планшет по часовой (направо) на 90 градусов. При этом, разумеется
поворачивается и камера. На экране я вижу теперь такую картинку:<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1035" type="#_x0000_t75" style='width:97.5pt;height:97.5pt'>
 <v:imagedata src="lk14.files/image021.png" o:href="http://startofandroid.com/images/stories/lessons/L0132/L0132_080.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=130 height=130
src="lk14.files/image022.gif" v:shapes="_x0000_i1035"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Кстати,
такую же картинку увидите и вы, если наклоните голову вправо на 90 градусов)<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Т.е.
система хоть и среагировала на поворот и повернула основное изображение, но
камера возвращает нам именно такой повернутый вид. Его мы и видим.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Что надо
сделать, чтобы это исправить? Повернуть картинку на 90 по часовой. Т.е. сделать
тот же поворот, что сделала камера.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Получилась
Аксиома Поворота Камеры: насколько и в какую сторону повернута камера, на
столько же и в ту же сторону нам надо поворачивать и превью, чтобы получать
правильную картинку.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Для этого будем использовать метод<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.html#setDisplayOrientation(int)"
target="_blank"><span style='color:#006699'>setDisplayOrientation</span></a>.
Он принимает на вход угол, на который камера будет поворачивать по часовой
превью, перед тем как отдать его нам. Т.е. от нас ждут угол поворота превью по
часовой. Его мы можем узнать, выяснив насколько повернута по часовой камера
(см. Аксиому Поворота Камеры).<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Для
этого используем такую конструкцию -
getWindowManager().getDefaultDisplay().getRotation(). Она возвращает нам
градусы, на которые система поворачивает изображение по часовой, чтобы оно
нормально отображалось при поворотах устройства.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Т.е.
когда вы наклоняете устройство на 90 против часовой, система должна
поворачивать изображение на 90 по часовой, чтобы компенсировать поворот.
(сейчас речь не о камере, а просто об изображении которое показывает телефон,
например - Home)<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Аксиома
Поворота Устройства: насколько и в какую сторону повернуто устройство, на
столько же, но в другую сторону система поворачивает изображение, чтобы
получать его в правильной ориентации.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Отсюда
следует, что getWindowManager().getDefaultDisplay().getRotation() сообщает нам
насколько устройство повернуто против часовой.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Кстати,
от getRotation мы получаем константы, а далее в switch преобразуем их в
градусы.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Итак,
переменная degrees содержит кол-во градусов, на которые повернуто устройство
против часовой.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>До сих
пор мозг цел? Тогда держите такой факт: камера в устройстве может быть
повернута относительно этого устройства.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Так
обычно делается на смартфонах. Т.е. там камера повернута на 90 градусов. И ее
нормальная ориентация совпадает с горизонтальной ориентацией устройства. Чтобы
и в превью и на экране ширина получалась больше высоты.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>И вот этот поворот нам тоже надо учитывать при повороте
превью. Получить данные о камере можно методом<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.html#getCameraInfo(int, android.hardware.Camera.CameraInfo)"
target="_blank"><span style='color:#006699'>getCameraInfo</span></a>. На вход
требует id камеры и объект<a
href="http://developer.android.com/reference/android/hardware/Camera.CameraInfo.html"
target="_blank"><span style='color:#006699'>CameraInfo</span></a>, в который
будет помещена инфа о камере.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Нас интересует поле<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.CameraInfo.html#orientation"
target="_blank"><span style='color:#006699'>CameraInfo.orientation</span></a>,
которое возвращает на сколько по часовой надо повернуть превью, чтобы получить
нормальное изображение. Т.е. исходя из Аксиомы Поворота Камеры – на столько же
повернута по часовой и сама камера.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Ну и
добиваем мозг следующим фактом. Камера может быть задней и передней
(фронтальной). И для них по разному надо считать повороты)<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Поле<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.CameraInfo.html#facing"
target="_blank"><span style='color:#006699'>CameraInfo.facing</span></a><span
class=apple-converted-space>&nbsp;</span>содержит инфу о том, какая камера –
задняя или передняя.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Попробуем
посчитать. Напомню, что метод setDisplayOrientation ждет от нас градус поворота
превью по часовой. Т.е. мы можем просто посчитать поворот камеры по часовой
(Аксиома Поворота Камеры) и получим нужное значение.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Чтобы
узнать итоговый поворот камеры по часовой в пространстве – надо сложить поворот
устройства по часовой и CameraInfo.orientation. Это для задней камеры. А для
передней – надо CameraInfo.orientation вычесть, потому что она смотрит в нашу
сторону. И все, что для нас по часовой, для нее - против.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Все,
считаем. У нас есть degrees - кол-во градусов, на которые повернуто устройство
против часовой. Чтобы конвертнуть это кол-во в градусы по часовой, надо просто
вычесть их из 360.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Т.е.
(360 – degrees) – это поворот устройства по часовой. Я специально выделил в
коде это выражение скобками для наглядности. Далее мы к этому значению
прибавляем или вычитаем (задняя или передняя камера) встроенный поворот камеры.
В случае с передней камерой на всякий случай прибавляем 360 градусов, чтобы не
получилось отрицательное число. И в конце определяем итоговое кол-во градусов в
пределах от 0 до 360, вычисляя остаток от деления на 360.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>И
торжественно передаем камере это значение.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>На редкость мозгодробительная штука – работа с камерой,
правда?&nbsp;В итоге, когда вы все это запустите, вы должны видеть адекватное
изображение с камеры.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>В начале
кода есть две константы:&nbsp;CAMERA_ID и&nbsp;FULL_SCREEN.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Если у вас две камеры, вы можете передать
в&nbsp;CAMERA_ID не 0, а 1, и получите картинку с передней камеры.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Ну а меняя&nbsp;FULL_SCREEN изменяйте вид превью.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<h3 style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;
margin-left:1.0cm;text-indent:0cm;line-height:13.5pt;background:white'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>Прочее<o:p></o:p></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Как определить, есть ли камера в устройстве? Об</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>этом</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>сообщит</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>конструкция</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>
context.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA)<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Получить id камеры, можно используя метод<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/hardware/Camera.html#getNumberOfCameras()"
target="_blank"><span style='color:#006699'>getNumberOfCameras</span></a><span
class=apple-converted-space>&nbsp;</span>(доступен с API Level 9). Он вернет
нам некое кол-во камер N, которые доступны на устройстве. Соответственно их ID
будут 0, 1, …, N-1. По этому id уже получаете CameraInfo и определяете, что это
за камера.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод open может вернуть Exception при запуске если по
каким-то причинам не удалось получить доступ к камере. Имеет смысл это
обрабатывать и выдавать сообщение пользователю, а не вылетать с ошибкой.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'>Использование </span></b><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='mso-bidi-font-size:12.0pt;mso-ansi-language:EN-US'>GPS</span></b><b
style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:12.0pt'> и </span></b><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;mso-ansi-language:EN-US'>Network</span></b><b style='mso-bidi-font-weight:
normal'><span style='mso-bidi-font-size:12.0pt'> провайдеров для определения
местоположения по спутникам или по сотам мобильной сети соответственно. <o:p></o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Android
устройства могут предоставить нам данные по нашему текущему местоположению. Это,
конечно, очень удобно и вовсю используется для, например, пользования картой,
получения актуальной для вашей местности информации (прогноз погоды),
всевозможных чекинов и пр.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Реализация
этого всего вполне проста. Мы вешаем слушателя на провайдера и получаем данные.
На данный момент есть два провайдера: GPS и Network.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>GPS –
тут все понятно, это данные с GPS-спутников.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Network
– это координаты, которые можно получить через сотовую связь или WiFi. Для
этого провайдера нужен интернет.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Напишем
простое приложение, которое будет запрашивать и отображать координаты.<o:p></o:p></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
</span><span class=java4><b><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F0055;mso-ansi-language:EN-US'>public class </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>MainActivity </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>extends </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Activity </span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>{</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp; </span><span class=java10>TextView tvEnabledGPS;</span><br>
<span class=java10>&nbsp; TextView tvStatusGPS;</span><br>
<span class=java10>&nbsp; TextView tvLocationGPS;</span><br>
<span class=java10>&nbsp; TextView tvEnabledNet;</span><br>
<span class=java10>&nbsp; TextView tvStatusNet;</span><br>
<span class=java10>&nbsp; TextView tvLocationNet;</span><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>private </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>LocationManager locationManager;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; StringBuilder sbGPS = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>StringBuilder</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp; StringBuilder sbNet = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>StringBuilder</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onCreate</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Bundle savedInstanceState</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onCreate</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>savedInstanceState</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; setContentView</span><span class=java8>(</span><span
class=java10>R.layout.main</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvEnabledGPS = </span><span class=java8>(</span><span
class=java10>TextView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.tvEnabledGPS</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvStatusGPS = </span><span class=java8>(</span><span
class=java10>TextView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.tvStatusGPS</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvLocationGPS = </span><span class=java8>(</span><span
class=java10>TextView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.tvLocationGPS</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvEnabledNet = </span><span class=java8>(</span><span
class=java10>TextView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.tvEnabledNet</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvStatusNet = </span><span class=java8>(</span><span
class=java10>TextView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.tvStatusNet</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvLocationNet = </span><span class=java8>(</span><span
class=java10>TextView</span><span class=java8>) </span><span class=java10>findViewById</span><span
class=java8>(</span><span class=java10>R.id.tvLocationNet</span><span
class=java8>)</span><span class=java10>;</span><br>
<br>
<span class=java10>&nbsp;&nbsp;&nbsp; locationManager = </span><span
class=java8>(</span><span class=java10>LocationManager</span><span class=java8>) </span><span
class=java10>getSystemService</span><span class=java8>(</span><span
class=java10>LOCATION_SERVICE</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onResume</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onResume</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; locationManager.requestLocationUpdates</span><span
class=java8>(</span><span class=java10>LocationManager.GPS_PROVIDER,</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java7>1000 </span><span class=java10>* </span><span class=java7>10</span><span
class=java10>, </span><span class=java7>10</span><span class=java10>, locationListener</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; locationManager.requestLocationUpdates</span><span
class=java8>(</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>LocationManager.NETWORK_PROVIDER, </span><span class=java7>1000 </span><span
class=java10>* </span><span class=java7>10</span><span class=java10>, </span><span
class=java7>10</span><span class=java10>,</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; locationListener</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; checkEnabled</span><span class=java8>()</span><span
class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onPause</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onPause</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; locationManager.removeUpdates</span><span
class=java8>(</span><span class=java10>locationListener</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>private </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>LocationListener locationListener = </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>LocationListener</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onLocationChanged</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Location location</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>showLocation</span><span
class=java8>(</span><span class=java10>location</span><span class=java8>)</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onProviderDisabled</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>String provider</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>checkEnabled</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onProviderEnabled</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>String provider</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>checkEnabled</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; showLocation</span><span
class=java8>(</span><span class=java10>locationManager.getLastKnownLocation</span><span
class=java8>(</span><span class=java10>provider</span><span class=java8>))</span><span
class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java16><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#646464;mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public </span></b></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onStatusChanged</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>String provider, </span></span><span
class=java9><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>int </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>status, Bundle extras</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>provider.equals</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>LocationManager.GPS_PROVIDER</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>tvStatusGPS.setText</span><span class=java8>(</span></span><span
class=java5><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#2A00FF;mso-ansi-language:EN-US'>&quot;Status: &quot; </span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>+ String.valueOf</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>status</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>))</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>} </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>else if </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>provider.equals</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>LocationManager.NETWORK_PROVIDER</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>tvStatusNet.setText</span><span class=java8>(</span></span><span
class=java5><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#2A00FF;mso-ansi-language:EN-US'>&quot;Status: &quot; </span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>+ String.valueOf</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>status</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>))</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<span class=java8>&nbsp; }</span><span class=java10>;</span><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>private </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>showLocation</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Location location</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>location == </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>null</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>return</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>location.getProvider</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.equals</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>LocationManager.GPS_PROVIDER</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>tvLocationGPS.setText</span><span
class=java8>(</span><span class=java10>formatLocation</span><span class=java8>(</span><span
class=java10>location</span><span class=java8>))</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>} </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>else if </span></b></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>location.getProvider</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>()</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.equals</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>LocationManager.NETWORK_PROVIDER</span><span class=java8>)) {</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>tvLocationNet.setText</span><span
class=java8>(</span><span class=java10>formatLocation</span><span class=java8>(</span><span
class=java10>location</span><span class=java8>))</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp; }</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>private </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>String formatLocation</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Location location</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>location == </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>null</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>return </span></b></span><span
class=java5><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#2A00FF;mso-ansi-language:EN-US'>&quot;&quot;</span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>return </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>String.format</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java5><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#2A00FF;mso-ansi-language:EN-US'>&quot;Coordinates: lat = %1$.4f, lon = %2$.4f, time = %3$tF %3$tT&quot;</span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>,</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; location.getLatitude</span><span
class=java8>()</span><span class=java10>, location.getLongitude</span><span
class=java8>()</span><span class=java10>, </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>new </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Date</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>location.getTime</span><span class=java8>()))</span><span
class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>private </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>checkEnabled</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>tvEnabledGPS.setText</span><span
class=java8>(</span></span><span class=java5><span lang=EN-US style='font-size:
12.0pt;font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:
EN-US'>&quot;Enabled: &quot;</span></span><span lang=EN-US style='font-size:
12.0pt;font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:
EN-US'><br>
<span class=java5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>+ locationManager</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .isProviderEnabled</span><span
class=java8>(</span><span class=java10>LocationManager.GPS_PROVIDER</span><span
class=java8>))</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; tvEnabledNet.setText</span><span
class=java8>(</span></span><span class=java5><span lang=EN-US style='font-size:
12.0pt;font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:
EN-US'>&quot;Enabled: &quot;</span></span><span lang=EN-US style='font-size:
12.0pt;font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:
EN-US'><br>
<span class=java5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>+ locationManager</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .isProviderEnabled</span><span
class=java8>(</span><span class=java10>LocationManager.NETWORK_PROVIDER</span><span
class=java8>))</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>public </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onClickLocationSettings</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>View view</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>startActivity</span><span
class=java8>(</span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>new </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Intent</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>android.provider.Settings.ACTION_LOCATION_SOURCE_SETTINGS</span><span
class=java8>))</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><span class=java10>;</span><br>
<br>
<span class=java8>}<o:p></o:p></span></span></pre><pre style='margin-left:1.0cm;
line-height:13.5pt'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onCreate</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>определяем </span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>TextView</span><span
style='color:#333333'>-компоненты и получаем</span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'><a
href="http://developer.android.com/reference/android/location/LocationManager.html"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>LocationManager</span></a>,
через который и будем работать.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><b><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>onResume</span></b><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'>вешаем</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>слушателя</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>с</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>помощью</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>метода</span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'><a
href="http://developer.android.com/reference/android/location/LocationManager.html#requestLocationUpdates(java.lang.String, long, float, android.location.LocationListener)"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>requestLocationUpdates</span></a></span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>. </span><span
style='color:#333333'>На</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>вход</span><span style='color:#333333;
mso-ansi-language:EN-US'> </span><span style='color:#333333'>передаем</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>- тип провайдера:</span><span
class=apple-converted-space><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'>&nbsp;</span></span><span style='color:#333333'><a
href="http://developer.android.com/reference/android/location/LocationManager.html#GPS_PROVIDER"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>GPS</span><span
style='color:#006699'>_</span><span lang=EN-US style='color:#006699;mso-ansi-language:
EN-US'>PROVIDER</span></a></span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><span
style='color:#333333'>или</span><span class=apple-converted-space><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>&nbsp;</span></span><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/location/LocationManager.html#NETWORK_PROVIDER"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>NETWORK</span><span
style='color:#006699'>_</span><span lang=EN-US style='color:#006699;mso-ansi-language:
EN-US'>PROVIDER</span></a><br>
- минимальное время (в миллисекундах) между получением данных. Я укажу здесь 10
секунд, мне этого вполне хватит. Если хотите получать координаты без задержек –
передавайте 0. Но учитывайте, что это только минимальное время. Реальное
ожидание может быть дольше.<span class=apple-converted-space>&nbsp;</span><br>
- минимальное расстояние (в метрах). Т.е. если ваше местоположение изменилось
на указанное кол-во метров, то вам придут новые координаты.<span
class=apple-converted-space>&nbsp;</span><br>
- слушатель, объект locationListener, который рассмотрим ниже<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Также
здесь обновляем на экране инфу о включенности провайдеров.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В<span class=apple-converted-space>&nbsp;</span><b>onPause</b><span
class=apple-converted-space>&nbsp;</span>отключаем слушателя методом
removeUpdates.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>locationListener</span></b><span
class=apple-converted-space><span style='color:#333333'>&nbsp;</span></span><span
style='color:#333333'>– слушатель, реализует интерфейс<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/LocationListener.html"
target="_blank"><span style='color:#006699'>LocationListener</span></a><span
class=apple-converted-space>&nbsp;</span>с методами:<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/location/LocationListener.html#onLocationChanged(android.location.Location)"
target="_blank"><span style='color:#006699'>onLocationChanged</span></a><span
class=apple-converted-space>&nbsp;</span>– новые данные о местоположении,
объект Location. Здесь мы вызываем свой метод showLocation, который на экране
отобразит данные о местоположении.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/location/LocationListener.html#onProviderDisabled(java.lang.String)"
target="_blank"><span style='color:#006699'>onProviderDisabled</span></a><span
class=apple-converted-space>&nbsp;</span>– указанный провайдер был отключен
юзером. В этом методе вызываем свой метод checkEnabled, который на экране
обновит текущие статусы провайдеров.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/location/LocationListener.html#onProviderEnabled(java.lang.String)"
target="_blank"><span style='color:#006699'>onProviderEnabled</span></a><span
class=apple-converted-space>&nbsp;</span>– указанный провайдер был включен
юзером. Тут также вызываем checkEnabled. Далее методом<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/LocationManager.html#getLastKnownLocation(java.lang.String)"
target="_blank"><span style='color:#006699'>getLastKnownLocation</span></a><span
class=apple-converted-space>&nbsp;</span>(он может вернуть null) запрашиваем
последнее доступное местоположение от включенного провайдера и отображаем его.
Оно может быть вполне актуальным, если вы до этого использовали какое-либо
приложение с определением местоположения.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/location/LocationListener.html#onStatusChanged(java.lang.String, int, android.os.Bundle)"
target="_blank"><span style='color:#006699'>onStatusChanged</span></a><span
class=apple-converted-space>&nbsp;</span>– изменился статус указанного
провайдера. В поле status могут быть значения<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/LocationProvider.html#OUT_OF_SERVICE"
target="_blank"><span style='color:#006699'>OUT_OF_SERVICE</span></a><span
class=apple-converted-space>&nbsp;</span>(данные будут недоступны долгое
время),<a
href="http://developer.android.com/reference/android/location/LocationProvider.html#TEMPORARILY_UNAVAILABLE"
target="_blank"><span style='color:#006699'>TEMPORARILY_UNAVAILABLE</span></a><span
class=apple-converted-space>&nbsp;</span>(данные временно недоступны),<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/LocationProvider.html#AVAILABLE"
target="_blank"><span style='color:#006699'>AVAILABLE</span></a><span
class=apple-converted-space>&nbsp;</span>(все ок, данные доступны). В этом
методе мы просто выводим новый статус на экран.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Провайдеры
включаются и отключаются в настройках системы. Тем самым, просто определяется
доступен ли провайдер для получения от него координат. Чуть позже увидим, как
можно отправить юзера в эти настройки. Программное включение/выключение
провайдеров через стандартные методы недоступно.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Далее
идут свои методы.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>showLocation</span></b><span class=apple-converted-space><span
style='color:#333333'>&nbsp;</span></span><span style='color:#333333'>на вход
берет<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/Location.html"
target="_blank"><span style='color:#006699'>Location</span></a>, определяет его
провайдера методом<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/Location.html#getProvider()"
target="_blank"><span style='color:#006699'>getProvider</span></a><span
class=apple-converted-space>&nbsp;</span>и отображает координаты в
соответствующем текстовом поле.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>formatLocation</span></b><span
class=apple-converted-space><span style='color:#333333'>&nbsp;</span></span><span
style='color:#333333'>на вход берет Location, читает из него данные и
форматирует из них строку. Какие данные он берет:<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/Location.html#getLatitude()"
target="_blank"><span style='color:#006699'>getLatitude</span></a><span
class=apple-converted-space>&nbsp;</span>– широта,<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/Location.html#getLongitude()"
target="_blank"><span style='color:#006699'>getLongitude</span></a><span
class=apple-converted-space>&nbsp;</span>– долгота,<a
href="http://developer.android.com/reference/android/location/Location.html#getTime()"
target="_blank"><span style='color:#006699'>getTime</span></a><span
class=apple-converted-space>&nbsp;</span>– время определения.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><b><span
style='color:#333333'>checkEnabled</span></b><span class=apple-converted-space><span
style='color:#333333'>&nbsp;</span></span><span style='color:#333333'>определяет
включены или выключены провайдеры методом<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/LocationManager.html#isProviderEnabled(java.lang.String)"
target="_blank"><span style='color:#006699'>isProviderEnabled</span></a><span
class=apple-converted-space>&nbsp;</span>и отображает эту инфу на экране.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод<span class=apple-converted-space>&nbsp;</span><b>onClickLocationSettings</b><span
class=apple-converted-space>&nbsp;</span>срабатывает по нажатию кнопки Location
settings и открывает настройки, чтобы пользователь мог включить или выключить
провайдер. Для</span><span style='color:#333333;mso-ansi-language:EN-US'> </span><span
style='color:#333333'>этого</span><span style='color:#333333;mso-ansi-language:
EN-US'> </span><span style='color:#333333'>используется</span><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'> Intent </span><span
style='color:#333333'>с</span><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'> action =<span class=apple-converted-space>&nbsp;</span></span><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/provider/Settings.html#ACTION_LOCATION_SOURCE_SETTINGS"
target="_blank"><span lang=EN-US style='color:#006699;mso-ansi-language:EN-US'>ACTION_LOCATION_SOURCE_SETTINGS</span></a></span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Осталось в манифесте прописать разрешение на определение
координат -<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/Manifest.permission.html#ACCESS_FINE_LOCATION"
target="_blank"><span style='color:#006699'>ACCESS_FINE_LOCATION</span></a>,
которое позволит нам использовать и Network и GPS. Также существует
разрешение&nbsp;<a
href="http://developer.android.com/reference/android/Manifest.permission.html#ACCESS_COARSE_LOCATION"
target="_blank"><span style='color:#006699'>ACCESS_COARSE_LOCATION</span></a>,
но оно дает доступ только к Network-провайдеру.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>С кодом
все, давайте смотреть, что получилось. Все сохраняем и запускаем приложение.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>У меня
на планшете сейчас выключен GPS, выключен WiFi, вставлена симка и выключен
мобильный интернет.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Запускаю
приложение и вижу такую картину:<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1036" type="#_x0000_t75" style='width:480pt;height:300pt'>
 <v:imagedata src="lk14.files/image023.png" o:href="http://startandroid.ru/images/stories/lessons/L0138/L0138_010.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=640 height=400
src="lk14.files/image024.jpg" v:shapes="_x0000_i1036"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>GPS
выключен, Network включен. Но интернета нет, поэтому Network мне ничего не
дает. Надо включить либо мобильный инет, либо WiFi.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Я
включаю WiFi. Проходит секунд 15-20 и инфа с Network пошла<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1037" type="#_x0000_t75" style='width:480pt;height:300pt'>
 <v:imagedata src="lk14.files/image025.png" o:href="http://startandroid.ru/images/stories/lessons/L0138/L0138_020.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=640 height=400
src="lk14.files/image026.jpg" v:shapes="_x0000_i1037"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Видим
широту, долготу и время.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Теперь
давайте включим GPS. Для этого мы специально повесили кнопку Location settings,
которую надо будет нажать пользователю, чтобы перейти в настройки. Жмем кнопку.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1038" type="#_x0000_t75" style='width:480pt;height:300pt'>
 <v:imagedata src="lk14.files/image027.png" o:href="http://startandroid.ru/images/stories/lessons/L0138/L0138_030.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=640 height=400
src="lk14.files/image028.jpg" v:shapes="_x0000_i1038"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Видим,
что GPS выключен, а Network включен. Наше приложение показывало все верно.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Включаем
GPS и жмем Назад, чтобы вернуться в приложение.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1039" type="#_x0000_t75" style='width:480pt;height:300pt'>
 <v:imagedata src="lk14.files/image029.png" o:href="http://startandroid.ru/images/stories/lessons/L0138/L0138_040.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=640 height=400
src="lk14.files/image030.jpg" v:shapes="_x0000_i1039"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>GPS
теперь показывает что он включен, ждем координаты. Для этого имеет смысл
подойти к окну, больше вероятности, что поймаем сигнал.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>В итоге
сигнал пойман и получен результат.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1040" type="#_x0000_t75" style='width:480pt;height:300pt'>
 <v:imagedata src="lk14.files/image031.png" o:href="http://startandroid.ru/images/stories/lessons/L0138/L0138_050.png"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=640 height=400
src="lk14.files/image032.jpg" v:shapes="_x0000_i1040"><![endif]><o:p></o:p></span></p>

<h3 style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;
margin-left:1.0cm;text-indent:0cm;line-height:13.5pt;background:white'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>Прочее<o:p></o:p></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Есть еще третий тип провайдера -<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/android/location/LocationManager.html#PASSIVE_PROVIDER"
target="_blank"><span style='color:#006699'>PASSIVE_PROVIDER</span></a>. Сам по
себе этот провайдер никакие данные не вернет. Но повесив на него слушателя, вы
сможете получать данные о местоположении, когда кто-то еще в системе пытается
определить местоположение через обычные провайдеры. Система будет дублировать
результаты и вам.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод&nbsp;<a
href="http://developer.android.com/reference/android/location/LocationManager.html#getAllProviders()"
target="_blank"><span style='color:#006699'>getAllProviders</span></a><span
class=apple-converted-space>&nbsp;</span>вернет вам список всех доступных
провайдеров. Метод&nbsp;<a
href="http://developer.android.com/reference/android/location/LocationManager.html#getProviders(boolean)"
target="_blank"><span style='color:#006699'>getProviders(boolean enabledOnly)</span></a>&nbsp;вернет
либо все, либо только включенные.&nbsp;<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Объект
Location кроме координат, времени и провайдера имеет еще несколько атрибутов,
которые могут прийти и пустыми:<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/location/Location.html#getAccuracy()"
target="_blank"><span style='color:#006699'>getAccuracy</span></a><span
class=apple-converted-space>&nbsp;</span>– точность показания в метрах<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/location/Location.html#getAltitude()"
target="_blank"><span style='color:#006699'>getAltitude</span></a><span
class=apple-converted-space>&nbsp;</span>– высота над уровнем моря в метрах<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="http://developer.android.com/reference/android/location/Location.html#getSpeed()"
target="_blank"><span style='color:#006699'>getSpeed</span></a><span
class=apple-converted-space>&nbsp;</span>– скорость движения в м/с<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Местоположение
можно протестировать и через AVD эмулятор. Для этого надо в Eclipse открыть
DDMS (Window &gt; Open Perspective &gt; DDMS) и выбрать вкладку Emulator
Control. Внизу будет вкладка Manual, на которой есть поля для ввода координат и
кнопка отправки.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'>Использование картографических сервисов </span></b><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='mso-bidi-font-size:12.0pt;mso-ansi-language:
EN-US'>Google</span></b><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt'>.<o:p></o:p></span></b></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Создадим</span><span
style='color:#333333;mso-ansi-language:EN-US'> </span><span style='color:#333333'>проект</span><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>:<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><strong><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>Project name</span></strong><span
lang=EN-US style='color:#333333;mso-ansi-language:EN-US'>: P1391_GoogleMaps<br>
<strong>Build Target</strong>: Android 2.3.3<span class=apple-converted-space>&nbsp;</span><br>
<strong>Application name</strong>: GoogleMaps<br>
<strong>Package name</strong>: ru.startandroid.develop.p1391googlemaps<br>
<strong>Create Activity</strong>: MainActivity<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span lang=EN-US style='color:#333333;
mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<h3 style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;
margin-left:1.0cm;text-indent:0cm;line-height:13.5pt;background:white'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333'>Настройка
проекта<o:p></o:p></span></h3>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Теперь
еще немного возни с проектом.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Заходим в свойства проекта и добавляем (кнопкой<span
class=apple-converted-space>&nbsp;</span><b>Add</b>) ссылку на ранее
импортированный<span class=apple-converted-space>&nbsp;</span><i>google-play-services_lib</i>&nbsp;проект.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><!--[if gte vml 1]><v:shape
 id="_x0000_i1041" type="#_x0000_t75" style='width:480pt;height:252pt'>
 <v:imagedata src="lk14.files/image033.png" o:href="http://startandroid.ru/images/stories/lessons/L0139/L0139_140.PNG"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=640 height=336
src="lk14.files/image034.gif" v:shapes="_x0000_i1041"><![endif]><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В манифесте необходимо добавить следующее в тег<span
class=apple-converted-space>&nbsp;</span><b>application</b>:<o:p></o:p></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;meta-data</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
<span style='mso-spacerun:yes'> </span></span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:name</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;com.google.android.maps.v2.API_KEY&quot;</span></i></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
<span style='mso-spacerun:yes'> </span></span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:value</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;AIzaSyComUhEqr9BL4JjqJE05Lck4j1uABIU08Y&quot;</span></i></span><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
</span><span class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;/meta-data&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
</span><span class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;meta-data</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
<span style='mso-spacerun:yes'> </span></span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:name</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;com.google.android.gms.version&quot;</span></i></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
<span style='mso-spacerun:yes'> </span></span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:value</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;@integer/google_play_services_version&quot;</span></i></span><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
</span><span class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;/meta-data&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><o:p></o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Первые данные, это наш ключ из гугл-консоли. Здесь вам
надо в<span class=apple-converted-space>&nbsp;</span><b>android:value</b><span
class=apple-converted-space>&nbsp;</span>поставить ваше значение API key. Этот
ключ нужен, чтобы карта работала.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Вторые
данные – это версия Google Play services.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Также, в манифесте в тег<span
class=apple-converted-space>&nbsp;</span><b>manifest</b><span
class=apple-converted-space>&nbsp;</span>нам надо добавить следующие
разрешения:<o:p></o:p></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;uses-permission</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'> </span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:name</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;android.permission.INTERNET&quot;</span></i></span><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&gt;&lt;/uses-permission&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
</span><span class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;uses-permission</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'> </span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:name</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span></i></span><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&gt;&lt;/uses-permission&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
</span><span class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;uses-permission</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'> </span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:name</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span></i></span><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&gt;&lt;/uses-permission&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
</span><span class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;uses-permission</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'> </span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:name</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot;</span></i></span><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&gt;&lt;/uses-permission&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><o:p></o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Это доступ в интернет, проверка доступности инета,
сохранение кэша карт и доступ к гугл-веб-сервисам.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span lang=EN-US
style='color:#333333;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Если
думаете работать с определением местоположения, то не забывайте про:<o:p></o:p></span></p>

<pre style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;margin-left:
1.0cm;line-height:13.5pt'><span class=layoutformatterelem><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#3F7F7F;
mso-ansi-language:EN-US'>&lt;uses-permission</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#333333;
mso-ansi-language:EN-US'> </span><span class=layoutformatterattrname><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F007F;mso-ansi-language:EN-US'>android:name</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span></i></span><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&gt;&lt;/uses-permission&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
</span><span class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;uses-permission</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'> </span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:name</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span></i></span><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&gt;&lt;/uses-permission&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><o:p></o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>И туда же, в тег<span class=apple-converted-space>&nbsp;</span><b>manifest</b><span
class=apple-converted-space>&nbsp;</span>такое требование:<o:p></o:p></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;uses-feature</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
<span style='mso-spacerun:yes'> </span></span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:glEsVersion</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;0x00020000&quot;</span></i></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
<span style='mso-spacerun:yes'> </span></span><span
class=layoutformatterattrname><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#7F007F;mso-ansi-language:EN-US'>android:required</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'>=</span><span
class=layoutformatterattrvalue><i><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#2A00FF;mso-ansi-language:EN-US'>&quot;true&quot;</span></i></span><span
class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><br>
</span><span class=layoutformatterelem><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman",serif;color:#3F7F7F;mso-ansi-language:EN-US'>&lt;/uses-feature&gt;</span></span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><o:p></o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Гугл-карты используют OpenGL ES версии 2. На девайсах,
которые это не поддерживают, карта просто не отобразится. Поэтому ставим
ограничение.</span><span lang=EN-US style='color:#333333;mso-ansi-language:
EN-US'><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Теперь
все. Далее продолжаем работу, как с обычным проектом.<o:p></o:p></span></p>

<pre style='margin-left:1.0cm;line-height:13.5pt'><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>public class </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>MainActivity </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>extends </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>FragmentActivity </span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>{</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java8>&nbsp; </span><span class=java10>SupportMapFragment mapFragment;</span><br>
<span class=java10>&nbsp; GoogleMap map;</span><br>
<span class=java10>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>final </span></b></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>String TAG = </span></span><span
class=java5><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#2A00FF;mso-ansi-language:EN-US'>&quot;myLogs&quot;</span></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<br>
<span class=java10>&nbsp; </span></span><span class=java16><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'>@Override</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#646464;
mso-ansi-language:EN-US'><br>
<span class=java16>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>protected </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onCreate</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>Bundle savedInstanceState</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>super</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>.onCreate</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>savedInstanceState</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>)</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; setContentView</span><span class=java8>(</span><span
class=java10>R.layout.main</span><span class=java8>)</span><span class=java10>;</span><br>
<br>
<span class=java10>&nbsp;&nbsp;&nbsp; mapFragment = </span><span class=java8>(</span><span
class=java10>SupportMapFragment</span><span class=java8>) </span><span
class=java10>getSupportFragmentManager</span><span class=java8>()</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=java10>.findFragmentById</span><span class=java8>(</span><span
class=java10>R.id.map</span><span class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; map = mapFragment.getMap</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>if </span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>map == </span></span><span class=java4><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>null</span></b></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=java10>finish</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=java4><b><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>return</span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>;</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java10>&nbsp;&nbsp;&nbsp; </span><span class=java8>}</span><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>init</span><span
class=java8>()</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>private </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>init</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>() {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; }</span><br>
<br>
<br>
<span class=java8>&nbsp; </span></span><span class=java4><b><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:#7F0055;
mso-ansi-language:EN-US'>public </span></b></span><span class=java9><b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#7F0055;mso-ansi-language:EN-US'>void </span></b></span><span
class=java10><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>onClickTest</span></span><span
class=java8><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>(</span></span><span class=java10><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>View view</span></span><span class=java8><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:black;mso-ansi-language:EN-US'>) {</span></span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman",serif;color:black;
mso-ansi-language:EN-US'><br>
<span class=java8>&nbsp;&nbsp;&nbsp; </span><span class=java10>map.setMapType</span><span
class=java8>(</span><span class=java10>GoogleMap.MAP_TYPE_SATELLITE</span><span
class=java8>)</span><span class=java10>;</span><br>
<span class=java10>&nbsp; </span><span class=java8>}</span><br>
<span class=java8>}<o:p></o:p></span></span></pre><pre style='margin-left:1.0cm;
line-height:13.5pt'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></pre>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В<span class=apple-converted-space>&nbsp;</span><b>onCreate</b><span
class=apple-converted-space>&nbsp;</span>мы находим наш фрагмент с картой и
получаем от него объект<span class=apple-converted-space>&nbsp;</span><a
href="https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/GoogleMap"
target="_blank"><span style='color:#006699'>GoogleMap</span></a><span
class=apple-converted-space>&nbsp;</span>методом<span
class=apple-converted-space>&nbsp;</span><a
href="https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/SupportMapFragment.html#getMap()"
target="_blank"><span style='color:#006699'>getMap</span></a>. Учитывайте, что
этот метод может вернуть null.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Кстати, в onCreate можно также повесить проверку, что на
устройстве доступно Google Play services.&nbsp;Для этого надо вызвать метод<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/com/google/android/gms/common/GooglePlayServicesUtil.html#isGooglePlayServicesAvailable(android.content.Context)"
target="_blank"><span style='color:#006699'>isGooglePlayServicesAvailable()</span></a>&nbsp;и
он должен вернуть<span class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/reference/com/google/android/gms/common/ConnectionResult.html#SUCCESS"
target="_blank"><span style='color:#006699'>SUCCESS</span></a>. Подробности в<span
class=apple-converted-space>&nbsp;</span><a
href="http://developer.android.com/google/play-services/setup.html#ensure"
target="_blank"><span style='color:#006699'>хелпе</span></a>.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Метод<span class=apple-converted-space>&nbsp;</span><b>init</b><span
class=apple-converted-space>&nbsp;</span>пока пустой.<o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'><o:p>&nbsp;</o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>В<span class=apple-converted-space>&nbsp;</span><b>onClickTest</b><span
class=apple-converted-space>&nbsp;</span>мы устанавливаем тип карты методом<span
class=apple-converted-space>&nbsp;</span><a
href="https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/GoogleMap.html#setMapType(int)"
target="_blank"><span style='color:#006699'>setMapType</span></a><o:p></o:p></span></p>

<p style='margin-top:11.25pt;margin-right:0cm;margin-bottom:11.25pt;margin-left:
1.0cm;line-height:13.5pt;background:white'><span style='color:#333333'>Всего
существует 5 типов:<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/GoogleMap.html#MAP_TYPE_NONE"
target="_blank"><span style='color:#006699'>MAP_TYPE_NONE</span></a><span
class=apple-converted-space>&nbsp;</span>– карта не будет отображаться<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/GoogleMap.html#MAP_TYPE_NORMAL"
target="_blank"><span style='color:#006699'>MAP_TYPE_NORMAL</span></a><span
class=apple-converted-space>&nbsp;</span>– обычный режим, в нем карта стартует
по умолчанию.<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/GoogleMap.html#MAP_TYPE_SATELLITE"
target="_blank"><span style='color:#006699'>MAP_TYPE_SATELLITE</span></a><span
class=apple-converted-space>&nbsp;</span>– снимки со спутника<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/GoogleMap.html#MAP_TYPE_TERRAIN"
target="_blank"><span style='color:#006699'>MAP_TYPE_TERRAIN</span></a><span
class=apple-converted-space>&nbsp;</span>– карта рельефа местности<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'><a
href="https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/GoogleMap.html#MAP_TYPE_HYBRID"
target="_blank"><span style='color:#006699'>MAP_TYPE_HYBRID</span></a><span
class=apple-converted-space>&nbsp;</span>– снимки со спутника + инфа о улицах и
транспорте<o:p></o:p></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:1.0cm;
margin-bottom:.0001pt;line-height:13.5pt;background:white'><span
style='color:#333333'>Получить текущий тип можно методом<span
class=apple-converted-space>&nbsp;</span><a
href="https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/GoogleMap.html#getMapType()"
target="_blank"><span style='color:#006699'>getMapType</span></a>.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'>Литература<o:p></o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:1.0cm;text-align:left;
text-indent:0cm'><b style='mso-bidi-font-weight:normal'><span style='mso-bidi-font-size:
12.0pt'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal align=left style='margin-left:46.35pt;text-align:left;
text-indent:-18.0pt;mso-list:l12 level1 lfo17'><![if !supportLists]><span
style='font-size:12.0pt;mso-bidi-font-size:14.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:12.0pt;mso-bidi-font-size:
14.0pt'>Уроки 131-134 и 137-140 </span><span lang=EN-US style='font-size:12.0pt;
mso-bidi-font-size:14.0pt;mso-ansi-language:EN-US'><a
href="http://startofandroid.com/ru/uroki/vse-uroki-spiskom.html">http<span
lang=RU style='mso-ansi-language:RU'>://</span>startofandroid<span lang=RU
style='mso-ansi-language:RU'>.</span>com<span lang=RU style='mso-ansi-language:
RU'>/</span>ru<span lang=RU style='mso-ansi-language:RU'>/</span>uroki<span
lang=RU style='mso-ansi-language:RU'>/</span>vse<span lang=RU style='mso-ansi-language:
RU'>-</span>uroki<span lang=RU style='mso-ansi-language:RU'>-</span>spiskom<span
lang=RU style='mso-ansi-language:RU'>.</span>html</a></span><span
style='font-size:12.0pt;mso-bidi-font-size:14.0pt'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:46.35pt;text-align:left;
text-indent:-18.0pt;mso-list:l12 level1 lfo17'><![if !supportLists]><span
style='font-size:12.0pt;mso-bidi-font-size:14.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:12.0pt;mso-bidi-font-size:
14.0pt'><a href="https://developers.google.com/android/">https://developers.google.com/android/</a><o:p></o:p></span></p>

</div>

</body>

</html>
